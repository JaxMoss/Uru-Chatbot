(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{9937:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat",function(){return t(910)}])},5418:function(e,s,t){"use strict";var r=t(5893);t(7294);var l=t(8950);s.Z=e=>{let{children:s}=e,{isAuthenticated:t,logout:a}=(0,l.a)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,r.jsx)("span",{className:"text-xl font-bold text-primary-600",children:"Uru ChatGPT"})})}),t&&(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("a",{href:"/settings",className:"px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50",children:"Settings"}),(0,r.jsx)("button",{onClick:a,className:"ml-4 px-3 py-2 rounded-md text-sm font-medium text-gray-700 hover:text-gray-900 hover:bg-gray-50",children:"Logout"})]})]})})}),(0,r.jsx)("main",{children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:s})}),(0,r.jsx)("footer",{className:"bg-white border-t border-gray-200 py-4",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("p",{className:"text-center text-sm text-gray-500",children:["\xa9 ",new Date().getFullYear()," Uru ChatGPT Interface. All rights reserved."]})})})]})}},910:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return u}});var r=t(5893),l=t(7294),a=t(1163),n=t(1875),i=t(5418),d=t(8950),c=e=>{let{role:s,content:t}=e,a="user"===s;return(0,r.jsx)("div",{className:"flex w-full my-4 ".concat(a?"justify-end":"justify-start"),children:(0,r.jsx)("div",{className:"\n          max-w-[80%] px-4 py-3 rounded-xl \n          ".concat(a?"bg-primary-600 text-white rounded-tr-none":"bg-gray-100 text-gray-800 rounded-tl-none","\n        "),children:(0,r.jsx)("div",{className:"prose prose-sm",children:t.split("\n").map((e,s)=>(0,r.jsxs)(l.Fragment,{children:[e,s<t.split("\n").length-1&&(0,r.jsx)("br",{})]},s))})})})},o=e=>{let{disabled:s=!1}=e,[t,a]=(0,l.useState)(""),{sendMessage:i,isLoading:d}=(0,n.R)(),c=(0,l.useRef)(null),o=async e=>{e.preventDefault(),t.trim()&&!d&&(await i(t),a(""))};return(0,l.useEffect)(()=>{c.current&&(c.current.style.height="auto",c.current.style.height="".concat(c.current.scrollHeight,"px"))},[t]),(0,r.jsx)("div",{className:"border-t border-gray-200 bg-white p-4 sticky bottom-0",children:(0,r.jsxs)("form",{onSubmit:o,className:"flex flex-col",children:[(0,r.jsxs)("div",{className:"relative flex-grow",children:[(0,r.jsx)("textarea",{ref:c,value:t,onChange:e=>a(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),o(e))},placeholder:"Type your message...",className:"w-full border border-gray-300 rounded-xl py-3 px-4 pr-12 resize-none max-h-32 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:1,disabled:s||d}),(0,r.jsx)("button",{type:"submit",disabled:!t.trim()||s||d,className:"absolute right-3 bottom-3 rounded-lg p-1 ".concat(!t.trim()||s||d?"text-gray-400 cursor-not-allowed":"text-primary-600 hover:bg-primary-50"),children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-6 h-6",children:(0,r.jsx)("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})})})]}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Press Enter to send, Shift+Enter for new line"})]})})},x=e=>{let{disabled:s=!1}=e,{currentConversation:t,changeModel:l,isLoading:a}=(0,n.R)();return(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("label",{htmlFor:"model-selector",className:"mr-2 text-sm text-gray-600",children:"Model:"}),(0,r.jsx)("select",{id:"model-selector",value:(null==t?void 0:t.model)||"gpt-4o",onChange:e=>{s||a||l(e.target.value)},disabled:s||a||!t,className:"bg-white border border-gray-300 text-gray-700 text-sm rounded-lg focus:ring-primary-500 focus:border-primary-500 p-2",children:[{id:"gpt-4o",name:"GPT-4o"},{id:"gpt-4o-mini",name:"GPT-4o Mini"},{id:"o1-preview",name:"o1-preview"},{id:"o1-mini",name:"o1-mini"}].map(e=>(0,r.jsx)("option",{value:e.id,children:e.name},e.id))})]})},m=()=>{let{hasApiKey:e}=(0,d.a)(),{currentConversation:s,isLoading:t,error:l}=(0,n.R)(),a=!e();return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("div",{className:"border-b border-gray-200 bg-white p-4 flex justify-between items-center",children:[(0,r.jsx)("h2",{className:"text-lg font-medium text-gray-800",children:(null==s?void 0:s.title)||"New Conversation"}),(0,r.jsx)(x,{disabled:a||!s})]}),(0,r.jsx)("div",{className:"flex-grow overflow-y-auto p-4 bg-gray-50",children:a?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center p-6 max-w-md bg-white rounded-xl shadow-md",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 mx-auto text-yellow-500 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m0 0v2m0-2h2m-2 0H9m3-3V9m0 0V7m0 2h2m-2 0H9"})}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"API Key Required"}),(0,r.jsx)("p",{className:"text-gray-600 mb-4",children:"Please add your OpenAI API key in the settings to start chatting."}),(0,r.jsx)("a",{href:"/settings",className:"inline-block bg-primary-600 hover:bg-primary-700 text-white font-medium py-2 px-4 rounded-lg transition-colors",children:"Go to Settings"})]})}):s?0===s.messages.length?(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center p-6 max-w-md",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"Start a New Conversation"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Send a message to start chatting with the AI assistant."})]})}):(0,r.jsxs)("div",{className:"space-y-4",children:[s.messages.map((e,s)=>(0,r.jsx)(c,{role:e.role,content:e.content},s)),t&&(0,r.jsx)("div",{className:"flex justify-center py-4",children:(0,r.jsxs)("div",{className:"animate-pulse flex space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"}),(0,r.jsx)("div",{className:"w-2 h-2 bg-gray-400 rounded-full"})]})})]}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center p-6 max-w-md",children:[(0,r.jsx)("h3",{className:"text-xl font-medium text-gray-800 mb-2",children:"No Conversation Selected"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Select a conversation from the sidebar or create a new one to start chatting."})]})})}),l&&(0,r.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4",children:(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("svg",{className:"h-5 w-5 text-red-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,r.jsx)("div",{className:"ml-3",children:(0,r.jsx)("p",{className:"text-sm text-red-700",children:l})})]})}),(0,r.jsx)(o,{disabled:a||!s})]})},h=e=>{let{onNewChat:s}=e,{conversations:t,currentConversation:l,selectConversation:a,deleteConversation:i,isLoading:d}=(0,n.R)();return(0,r.jsxs)("div",{className:"flex flex-col h-full",children:[(0,r.jsxs)("button",{onClick:s,disabled:d,className:"flex items-center justify-center w-full py-3 px-4 mb-4 bg-primary-600 hover:bg-primary-700 text-white rounded-lg transition-colors",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"})}),"New Chat"]}),(0,r.jsx)("div",{className:"flex-grow overflow-y-auto",children:0===t.length?(0,r.jsx)("div",{className:"text-center text-gray-500 py-4",children:"No conversations yet"}):(0,r.jsx)("ul",{className:"space-y-2",children:t.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)("div",{className:"\n                    flex items-center justify-between py-3 px-4 rounded-lg cursor-pointer\n                    ".concat((null==l?void 0:l.id)===e.id?"bg-primary-100 text-primary-800":"hover:bg-gray-100","\n                  "),onClick:()=>a(e.id),children:[(0,r.jsxs)("div",{className:"flex items-center truncate",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-3 text-gray-500",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),(0,r.jsx)("span",{className:"truncate",children:e.title})]}),(0,r.jsx)("button",{onClick:s=>{s.stopPropagation(),i(e.id)},className:"ml-2 text-gray-400 hover:text-red-500",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]})},e.id))})})]})},u=()=>{(0,a.useRouter)();let{createConversation:e}=(0,n.R)(),s=async()=>{await e("gpt-4o")};return(0,r.jsx)(i.Z,{children:(0,r.jsxs)("div",{className:"flex h-[calc(100vh-10rem)]",children:[(0,r.jsx)("div",{className:"w-64 bg-white p-4 border-r border-gray-200 hidden md:block",children:(0,r.jsx)(h,{onNewChat:s})}),(0,r.jsx)("div",{className:"md:hidden fixed bottom-20 left-4 z-10",children:(0,r.jsx)("button",{onClick:()=>{},className:"bg-primary-600 text-white p-3 rounded-full shadow-lg",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})}),(0,r.jsx)("div",{className:"flex-1 flex flex-col bg-white rounded-lg shadow-sm overflow-hidden",children:(0,r.jsx)(m,{})})]})})}}},function(e){e.O(0,[774,888,179],function(){return e(e.s=9937)}),_N_E=e.O()}]);