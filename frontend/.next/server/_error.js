/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "/_error";
exports.ids = ["/_error"];
exports.modules = {

/***/ "./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getServerSideProps: () => (/* binding */ getServerSideProps),\n/* harmony export */   getStaticPaths: () => (/* binding */ getStaticPaths),\n/* harmony export */   getStaticProps: () => (/* binding */ getStaticProps),\n/* harmony export */   reportWebVitals: () => (/* binding */ reportWebVitals),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   unstable_getServerProps: () => (/* binding */ unstable_getServerProps),\n/* harmony export */   unstable_getServerSideProps: () => (/* binding */ unstable_getServerSideProps),\n/* harmony export */   unstable_getStaticParams: () => (/* binding */ unstable_getStaticParams),\n/* harmony export */   unstable_getStaticPaths: () => (/* binding */ unstable_getStaticPaths),\n/* harmony export */   unstable_getStaticProps: () => (/* binding */ unstable_getStaticProps)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages/module.compiled */ \"./node_modules/next/dist/server/future/route-modules/pages/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! private-next-pages/_document */ \"./node_modules/next/dist/pages/_document.js\");\n/* harmony import */ var private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(private_next_pages_document__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! private-next-pages/_app */ \"./src/pages/_app.tsx\");\n/* harmony import */ var _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./node_modules/next/dist/pages/_error.js */ \"./node_modules/next/dist/pages/_error.js\");\n/* harmony import */ var _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__]);\nprivate_next_pages_app__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the app and document modules.\n\n\n// Import the userland code.\n\n// Re-export the component (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"default\"));\n// Re-export methods.\nconst getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticProps\");\nconst getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getStaticPaths\");\nconst getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"getServerSideProps\");\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"config\");\nconst reportWebVitals = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"reportWebVitals\");\n// Re-export legacy methods.\nconst unstable_getStaticProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticProps\");\nconst unstable_getStaticPaths = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticPaths\");\nconst unstable_getStaticParams = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getStaticParams\");\nconst unstable_getServerProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerProps\");\nconst unstable_getServerSideProps = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__, \"unstable_getServerSideProps\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES,\n        page: \"/_error\",\n        pathname: \"/_error\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    components: {\n        App: private_next_pages_app__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        Document: (private_next_pages_document__WEBPACK_IMPORTED_MODULE_3___default())\n    },\n    userland: _node_modules_next_dist_pages_error_js__WEBPACK_IMPORTED_MODULE_5__\n});\n\n//# sourceMappingURL=pages.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTJnBhZ2U9JTJGX2Vycm9yJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGbm9kZV9tb2R1bGVzJTJGbmV4dCUyRmRpc3QlMkZwYWdlcyUyRl9lcnJvci5qcyZhYnNvbHV0ZUFwcFBhdGg9cHJpdmF0ZS1uZXh0LXBhZ2VzJTJGX2FwcCZhYnNvbHV0ZURvY3VtZW50UGF0aD1wcml2YXRlLW5leHQtcGFnZXMlMkZfZG9jdW1lbnQmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUErRjtBQUNoQztBQUNMO0FBQzFEO0FBQ29EO0FBQ1Y7QUFDMUM7QUFDcUU7QUFDckU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLG1FQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLHVCQUF1Qix3RUFBSyxDQUFDLG1FQUFRO0FBQ3JDLHVCQUF1Qix3RUFBSyxDQUFDLG1FQUFRO0FBQ3JDLDJCQUEyQix3RUFBSyxDQUFDLG1FQUFRO0FBQ3pDLGVBQWUsd0VBQUssQ0FBQyxtRUFBUTtBQUM3Qix3QkFBd0Isd0VBQUssQ0FBQyxtRUFBUTtBQUM3QztBQUNPLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLGlDQUFpQyx3RUFBSyxDQUFDLG1FQUFRO0FBQy9DLGdDQUFnQyx3RUFBSyxDQUFDLG1FQUFRO0FBQzlDLG9DQUFvQyx3RUFBSyxDQUFDLG1FQUFRO0FBQ3pEO0FBQ08sd0JBQXdCLHlHQUFnQjtBQUMvQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLFdBQVc7QUFDWCxnQkFBZ0I7QUFDaEIsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELGlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXJ1LWNoYXRib3QvPzU1OWYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSBhcHAgYW5kIGRvY3VtZW50IG1vZHVsZXMuXG5pbXBvcnQgRG9jdW1lbnQgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fZG9jdW1lbnRcIjtcbmltcG9ydCBBcHAgZnJvbSBcInByaXZhdGUtbmV4dC1wYWdlcy9fYXBwXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L3BhZ2VzL19lcnJvci5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBjb21wb25lbnQgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBtZXRob2RzLlxuZXhwb3J0IGNvbnN0IGdldFN0YXRpY1Byb3BzID0gaG9pc3QodXNlcmxhbmQsIFwiZ2V0U3RhdGljUHJvcHNcIik7XG5leHBvcnQgY29uc3QgZ2V0U3RhdGljUGF0aHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTdGF0aWNQYXRoc1wiKTtcbmV4cG9ydCBjb25zdCBnZXRTZXJ2ZXJTaWRlUHJvcHMgPSBob2lzdCh1c2VybGFuZCwgXCJnZXRTZXJ2ZXJTaWRlUHJvcHNcIik7XG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuZXhwb3J0IGNvbnN0IHJlcG9ydFdlYlZpdGFscyA9IGhvaXN0KHVzZXJsYW5kLCBcInJlcG9ydFdlYlZpdGFsc1wiKTtcbi8vIFJlLWV4cG9ydCBsZWdhY3kgbWV0aG9kcy5cbmV4cG9ydCBjb25zdCB1bnN0YWJsZV9nZXRTdGF0aWNQcm9wcyA9IGhvaXN0KHVzZXJsYW5kLCBcInVuc3RhYmxlX2dldFN0YXRpY1Byb3BzXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFN0YXRpY1BhdGhzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGF0aHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U3RhdGljUGFyYW1zXCIpO1xuZXhwb3J0IGNvbnN0IHVuc3RhYmxlX2dldFNlcnZlclByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyUHJvcHNcIik7XG5leHBvcnQgY29uc3QgdW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzID0gaG9pc3QodXNlcmxhbmQsIFwidW5zdGFibGVfZ2V0U2VydmVyU2lkZVByb3BzXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVMsXG4gICAgICAgIHBhZ2U6IFwiL19lcnJvclwiLFxuICAgICAgICBwYXRobmFtZTogXCIvX2Vycm9yXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIGNvbXBvbmVudHM6IHtcbiAgICAgICAgQXBwLFxuICAgICAgICBEb2N1bWVudFxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "./src/contexts/AuthContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/AuthContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: () => (/* binding */ AuthProvider),\n/* harmony export */   useAuth: () => (/* binding */ useAuth)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/api */ \"./src/lib/api.ts\");\n/* harmony import */ var _lib_encryption__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../lib/encryption */ \"./src/lib/encryption.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_api__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst AuthProvider = ({ children })=>{\n    const [isAuthenticated, setIsAuthenticated] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true); // Start with loading true\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Initialize client-side state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n        // Check authentication status\n        const token = localStorage.getItem(\"token\");\n        setIsAuthenticated(!!token);\n        setIsLoading(false);\n    }, []);\n    // Login function\n    const login = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (email, password)=>{\n        if (!isClient) return false;\n        setIsLoading(true);\n        setError(null);\n        try {\n            const data = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.login(email, password);\n            // Store token and user ID\n            localStorage.setItem(\"token\", data.access_token);\n            localStorage.setItem(\"userId\", email);\n            setIsAuthenticated(true);\n            setIsLoading(false);\n            return true;\n        } catch (err) {\n            setError(err.response?.data?.detail || \"Login failed\");\n            setIsLoading(false);\n            return false;\n        }\n    }, [\n        isClient\n    ]);\n    // Register function\n    const register = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (email, password)=>{\n        if (!isClient) return false;\n        setIsLoading(true);\n        setError(null);\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.register(email, password);\n            return await login(email, password);\n        } catch (err) {\n            setError(err.response?.data?.detail || \"Registration failed\");\n            setIsLoading(false);\n            return false;\n        }\n    }, [\n        login,\n        isClient\n    ]);\n    // Logout function\n    const logout = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!isClient) return;\n        localStorage.removeItem(\"token\");\n        localStorage.removeItem(\"userId\");\n        (0,_lib_encryption__WEBPACK_IMPORTED_MODULE_3__.clearApiKey)();\n        setIsAuthenticated(false);\n    }, [\n        isClient\n    ]);\n    // Set API key function\n    const setApiKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (apiKey)=>{\n        if (!isClient) return false;\n        setIsLoading(true);\n        setError(null);\n        try {\n            const result = await _lib_api__WEBPACK_IMPORTED_MODULE_2__.api.validateApiKey(apiKey);\n            if (result.valid) {\n                (0,_lib_encryption__WEBPACK_IMPORTED_MODULE_3__.storeApiKey)(apiKey);\n                setIsLoading(false);\n                return true;\n            } else {\n                setError(\"Invalid API key\");\n                setIsLoading(false);\n                return false;\n            }\n        } catch (err) {\n            setError(err.response?.data?.detail || \"Failed to validate API key\");\n            setIsLoading(false);\n            return false;\n        }\n    }, [\n        isClient\n    ]);\n    // Check if API key exists\n    const hasApiKey = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        if (!isClient) return false;\n        return !!(0,_lib_encryption__WEBPACK_IMPORTED_MODULE_3__.getApiKey)();\n    }, [\n        isClient\n    ]);\n    const value = {\n        isAuthenticated,\n        isLoading,\n        error,\n        login,\n        register,\n        logout,\n        setApiKey,\n        hasApiKey,\n        clearApiKey: _lib_encryption__WEBPACK_IMPORTED_MODULE_3__.clearApiKey\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/app/src/contexts/AuthContext.tsx\",\n        lineNumber: 130,\n        columnNumber: 5\n    }, undefined);\n};\nconst useAuth = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TXNCLFlBQVl0QyxrREFBV0EsQ0FBQztRQUM1QixJQUFJLENBQUNnQixVQUFVLE9BQU87UUFDdEIsT0FBTyxDQUFDLENBQUNaLDBEQUFTQTtJQUNwQixHQUFHO1FBQUNZO0tBQVM7SUFFYixNQUFNdUIsUUFBUTtRQUNaN0I7UUFDQUU7UUFDQUU7UUFDQU87UUFDQVM7UUFDQUM7UUFDQUU7UUFDQUs7UUFDQWpDLFdBQVdBLDBEQUFBQTtJQUNiO0lBRUEscUJBQ0UsOERBQUNDLFlBQVlrQyxRQUFRO1FBQUNELE9BQU9BO2tCQUMxQjlCOzs7Ozs7QUFHUCxFQUFFO0FBRUssTUFBTWdDLFVBQVU7SUFDckIsTUFBTUMsVUFBVTVDLGlEQUFVQSxDQUFDUTtJQUMzQixJQUFJb0MsWUFBWW5DLFdBQVc7UUFDekIsTUFBTSxJQUFJb0MsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3VydS1jaGF0Ym90Ly4vc3JjL2NvbnRleHRzL0F1dGhDb250ZXh0LnRzeD8xZmEyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIFJlYWN0Tm9kZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBhcGkgfSBmcm9tICcuLi9saWIvYXBpJztcclxuaW1wb3J0IHsgc3RvcmVBcGlLZXksIGdldEFwaUtleSwgY2xlYXJBcGlLZXkgfSBmcm9tICcuLi9saWIvZW5jcnlwdGlvbic7XHJcblxyXG5pbnRlcmZhY2UgQXV0aENvbnRleHRUeXBlIHtcclxuICBpc0F1dGhlbnRpY2F0ZWQ6IGJvb2xlYW47XHJcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xyXG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xyXG4gIGxvZ2luOiAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTxib29sZWFuPjtcclxuICByZWdpc3RlcjogKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpID0+IFByb21pc2U8Ym9vbGVhbj47XHJcbiAgbG9nb3V0OiAoKSA9PiB2b2lkO1xyXG4gIHNldEFwaUtleTogKGFwaUtleTogc3RyaW5nKSA9PiBQcm9taXNlPGJvb2xlYW4+O1xyXG4gIGhhc0FwaUtleTogKCkgPT4gYm9vbGVhbjtcclxuICBjbGVhckFwaUtleTogKCkgPT4gdm9pZDtcclxufVxyXG5cclxuY29uc3QgQXV0aENvbnRleHQgPSBjcmVhdGVDb250ZXh0PEF1dGhDb250ZXh0VHlwZSB8IHVuZGVmaW5lZD4odW5kZWZpbmVkKTtcclxuXHJcbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXI6IFJlYWN0LkZDPHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9PiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcclxuICBjb25zdCBbaXNBdXRoZW50aWNhdGVkLCBzZXRJc0F1dGhlbnRpY2F0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZTxib29sZWFuPih0cnVlKTsgLy8gU3RhcnQgd2l0aCBsb2FkaW5nIHRydWVcclxuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG4gIFxyXG4gIC8vIEluaXRpYWxpemUgY2xpZW50LXNpZGUgc3RhdGVcclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XHJcbiAgICAvLyBDaGVjayBhdXRoZW50aWNhdGlvbiBzdGF0dXNcclxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XHJcbiAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoISF0b2tlbik7XHJcbiAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gIH0sIFtdKTtcclxuXHJcbiAgLy8gTG9naW4gZnVuY3Rpb25cclxuICBjb25zdCBsb2dpbiA9IHVzZUNhbGxiYWNrKGFzeW5jIChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICBcclxuICAgIHNldElzTG9hZGluZyh0cnVlKTtcclxuICAgIHNldEVycm9yKG51bGwpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgYXBpLmxvZ2luKGVtYWlsLCBwYXNzd29yZCk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBTdG9yZSB0b2tlbiBhbmQgdXNlciBJRFxyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBkYXRhLmFjY2Vzc190b2tlbik7XHJcbiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VySWQnLCBlbWFpbCk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRJc0F1dGhlbnRpY2F0ZWQodHJ1ZSk7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ0xvZ2luIGZhaWxlZCcpO1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfSwgW2lzQ2xpZW50XSk7XHJcblxyXG4gIC8vIFJlZ2lzdGVyIGZ1bmN0aW9uXHJcbiAgY29uc3QgcmVnaXN0ZXIgPSB1c2VDYWxsYmFjayhhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gICAgaWYgKCFpc0NsaWVudCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYXBpLnJlZ2lzdGVyKGVtYWlsLCBwYXNzd29yZCk7XHJcbiAgICAgIHJldHVybiBhd2FpdCBsb2dpbihlbWFpbCwgcGFzc3dvcmQpO1xyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ1JlZ2lzdHJhdGlvbiBmYWlsZWQnKTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gIH0sIFtsb2dpbiwgaXNDbGllbnRdKTtcclxuXHJcbiAgLy8gTG9nb3V0IGZ1bmN0aW9uXHJcbiAgY29uc3QgbG9nb3V0ID0gdXNlQ2FsbGJhY2soKCkgPT4ge1xyXG4gICAgaWYgKCFpc0NsaWVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndG9rZW4nKTtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTtcclxuICAgIGNsZWFyQXBpS2V5KCk7XHJcbiAgICBzZXRJc0F1dGhlbnRpY2F0ZWQoZmFsc2UpO1xyXG4gIH0sIFtpc0NsaWVudF0pO1xyXG5cclxuICAvLyBTZXQgQVBJIGtleSBmdW5jdGlvblxyXG4gIGNvbnN0IHNldEFwaUtleSA9IHVzZUNhbGxiYWNrKGFzeW5jIChhcGlLZXk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4gPT4ge1xyXG4gICAgaWYgKCFpc0NsaWVudCkgcmV0dXJuIGZhbHNlO1xyXG4gICAgXHJcbiAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XHJcbiAgICBzZXRFcnJvcihudWxsKTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBpLnZhbGlkYXRlQXBpS2V5KGFwaUtleSk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAocmVzdWx0LnZhbGlkKSB7XHJcbiAgICAgICAgc3RvcmVBcGlLZXkoYXBpS2V5KTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHNldEVycm9yKCdJbnZhbGlkIEFQSSBrZXknKTtcclxuICAgICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcclxuICAgICAgc2V0RXJyb3IoZXJyLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ0ZhaWxlZCB0byB2YWxpZGF0ZSBBUEkga2V5Jyk7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9LCBbaXNDbGllbnRdKTtcclxuXHJcbiAgLy8gQ2hlY2sgaWYgQVBJIGtleSBleGlzdHNcclxuICBjb25zdCBoYXNBcGlLZXkgPSB1c2VDYWxsYmFjaygoKTogYm9vbGVhbiA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm4gZmFsc2U7XHJcbiAgICByZXR1cm4gISFnZXRBcGlLZXkoKTtcclxuICB9LCBbaXNDbGllbnRdKTtcclxuXHJcbiAgY29uc3QgdmFsdWUgPSB7XHJcbiAgICBpc0F1dGhlbnRpY2F0ZWQsXHJcbiAgICBpc0xvYWRpbmcsXHJcbiAgICBlcnJvcixcclxuICAgIGxvZ2luLFxyXG4gICAgcmVnaXN0ZXIsXHJcbiAgICBsb2dvdXQsXHJcbiAgICBzZXRBcGlLZXksXHJcbiAgICBoYXNBcGlLZXksXHJcbiAgICBjbGVhckFwaUtleVxyXG4gIH07XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8QXV0aENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9BdXRoQ29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZUF1dGggPSAoKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQXV0aENvbnRleHQpO1xyXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigndXNlQXV0aCBtdXN0IGJlIHVzZWQgd2l0aGluIGFuIEF1dGhQcm92aWRlcicpO1xyXG4gIH1cclxuICByZXR1cm4gY29udGV4dDtcclxufTtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUNhbGxiYWNrIiwidXNlRWZmZWN0IiwiYXBpIiwic3RvcmVBcGlLZXkiLCJnZXRBcGlLZXkiLCJjbGVhckFwaUtleSIsIkF1dGhDb250ZXh0IiwidW5kZWZpbmVkIiwiQXV0aFByb3ZpZGVyIiwiY2hpbGRyZW4iLCJpc0F1dGhlbnRpY2F0ZWQiLCJzZXRJc0F1dGhlbnRpY2F0ZWQiLCJpc0xvYWRpbmciLCJzZXRJc0xvYWRpbmciLCJlcnJvciIsInNldEVycm9yIiwiaXNDbGllbnQiLCJzZXRJc0NsaWVudCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImRhdGEiLCJzZXRJdGVtIiwiYWNjZXNzX3Rva2VuIiwiZXJyIiwicmVzcG9uc2UiLCJkZXRhaWwiLCJyZWdpc3RlciIsImxvZ291dCIsInJlbW92ZUl0ZW0iLCJzZXRBcGlLZXkiLCJhcGlLZXkiLCJyZXN1bHQiLCJ2YWxpZGF0ZUFwaUtleSIsInZhbGlkIiwiaGFzQXBpS2V5IiwidmFsdWUiLCJQcm92aWRlciIsInVzZUF1dGgiLCJjb250ZXh0IiwiRXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/contexts/AuthContext.tsx\n");

/***/ }),

/***/ "./src/contexts/ChatContext.tsx":
/*!**************************************!*\
  !*** ./src/contexts/ChatContext.tsx ***!
  \**************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ChatProvider: () => (/* binding */ ChatProvider),\n/* harmony export */   useChat: () => (/* binding */ useChat)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_encryption__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../lib/encryption */ \"./src/lib/encryption.ts\");\n/* harmony import */ var _hooks_useSSE__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../hooks/useSSE */ \"./src/hooks/useSSE.ts\");\n/* harmony import */ var _lib_api__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../lib/api */ \"./src/lib/api.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_api__WEBPACK_IMPORTED_MODULE_4__]);\n_lib_api__WEBPACK_IMPORTED_MODULE_4__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\n\nconst ChatContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst ChatProvider = ({ children })=>{\n    const [conversations, setConversations] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [currentConversation, setCurrentConversation] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Initialize client-side state\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n        loadConversations().finally(()=>setIsLoading(false));\n    }, []);\n    // Handle incoming SSE messages\n    const handleSSEMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)((data)=>{\n        if (!currentConversation || !isClient) return;\n        try {\n            const parsedData = JSON.parse(data);\n            setCurrentConversation((prev)=>{\n                if (!prev) return null;\n                const updatedMessages = [\n                    ...prev.messages\n                ];\n                const lastMessage = updatedMessages[updatedMessages.length - 1];\n                // If the last message is from the assistant, append to it\n                if (lastMessage && lastMessage.role === \"assistant\") {\n                    updatedMessages[updatedMessages.length - 1] = {\n                        ...lastMessage,\n                        content: lastMessage.content + parsedData.content\n                    };\n                } else {\n                    // Otherwise create a new message\n                    updatedMessages.push({\n                        role: \"assistant\",\n                        content: parsedData.content\n                    });\n                }\n                return {\n                    ...prev,\n                    messages: updatedMessages\n                };\n            });\n        } catch (err) {\n            console.error(\"Failed to parse SSE message:\", err);\n        }\n    }, [\n        currentConversation,\n        isClient\n    ]);\n    // SSE connection for streaming responses\n    const { connect, disconnect } = (0,_hooks_useSSE__WEBPACK_IMPORTED_MODULE_3__.useSSE)({\n        url: isClient ? `${\"http://localhost:8001\"}/chat/stream?conversationId=${currentConversation?.id || \"\"}` : \"\",\n        onMessage: handleSSEMessage,\n        onError: (event)=>{\n            setError(\"Connection error: Please try again\");\n            setIsLoading(false);\n        },\n        onComplete: ()=>{\n            setIsLoading(false);\n        }\n    });\n    // Load conversations\n    const loadConversations = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async ()=>{\n        if (!isClient) return;\n        try {\n            const response = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getConversations();\n            setConversations(response);\n        } catch (err) {\n            setError(\"Failed to load conversations\");\n        }\n    }, [\n        isClient\n    ]);\n    // Create a new conversation\n    const createConversation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (model)=>{\n        if (!isClient) return;\n        setIsLoading(true);\n        setError(null);\n        try {\n            const newConversation = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.createConversation(model);\n            setConversations((prev)=>[\n                    newConversation,\n                    ...prev\n                ]);\n            setCurrentConversation({\n                ...newConversation,\n                messages: []\n            });\n            setIsLoading(false);\n        } catch (err) {\n            setError(\"Failed to create conversation\");\n            setIsLoading(false);\n        }\n    }, [\n        isClient\n    ]);\n    // Select an existing conversation\n    const selectConversation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        if (!isClient) return;\n        setIsLoading(true);\n        setError(null);\n        try {\n            const conversation = await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.getConversation(id);\n            setCurrentConversation({\n                ...conversation,\n                messages: []\n            });\n            setIsLoading(false);\n        } catch (err) {\n            setError(\"Failed to load conversation\");\n            setIsLoading(false);\n        }\n    }, [\n        isClient\n    ]);\n    // Send a message in the current conversation\n    const sendMessage = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (content)=>{\n        if (!currentConversation || !isClient) return;\n        setIsLoading(true);\n        setError(null);\n        // Get API key from secure storage\n        const apiKey = (0,_lib_encryption__WEBPACK_IMPORTED_MODULE_2__.getApiKey)();\n        if (!apiKey) {\n            setError(\"API key not found. Please add your OpenAI API key in settings.\");\n            setIsLoading(false);\n            return;\n        }\n        // Update UI optimistically\n        const newMessage = {\n            role: \"user\",\n            content\n        };\n        setCurrentConversation((prev)=>{\n            if (!prev) return null;\n            return {\n                ...prev,\n                messages: [\n                    ...prev.messages,\n                    newMessage\n                ]\n            };\n        });\n        try {\n            // Send message to API\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.sendMessage(currentConversation.id, content, apiKey, currentConversation.model);\n            // Connect to SSE stream to receive response\n            connect();\n        } catch (err) {\n            setError(\"Failed to send message\");\n            setIsLoading(false);\n        }\n    }, [\n        currentConversation,\n        connect,\n        isClient\n    ]);\n    // Update conversation title\n    const updateConversationTitle = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id, title)=>{\n        if (!isClient) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.updateConversation(id, {\n                title\n            });\n            setConversations((prev)=>prev.map((conv)=>conv.id === id ? {\n                        ...conv,\n                        title\n                    } : conv));\n            if (currentConversation?.id === id) {\n                setCurrentConversation((prev)=>{\n                    if (!prev) return null;\n                    return {\n                        ...prev,\n                        title\n                    };\n                });\n            }\n        } catch (err) {\n            setError(\"Failed to update conversation title\");\n        }\n    }, [\n        currentConversation,\n        isClient\n    ]);\n    // Delete a conversation\n    const deleteConversation = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (id)=>{\n        if (!isClient) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.deleteConversation(id);\n            setConversations((prev)=>prev.filter((conv)=>conv.id !== id));\n            if (currentConversation?.id === id) {\n                setCurrentConversation(null);\n            }\n        } catch (err) {\n            setError(\"Failed to delete conversation\");\n        }\n    }, [\n        currentConversation,\n        isClient\n    ]);\n    // Change the model for the current conversation\n    const changeModel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(async (model)=>{\n        if (!currentConversation || !isClient) return;\n        try {\n            await _lib_api__WEBPACK_IMPORTED_MODULE_4__.api.updateConversation(currentConversation.id, {\n                model\n            });\n            setCurrentConversation((prev)=>{\n                if (!prev) return null;\n                return {\n                    ...prev,\n                    model\n                };\n            });\n        } catch (err) {\n            setError(\"Failed to change model\");\n        }\n    }, [\n        currentConversation,\n        isClient\n    ]);\n    // Clean up SSE connection on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        return ()=>{\n            disconnect();\n        };\n    }, [\n        disconnect\n    ]);\n    const value = {\n        conversations,\n        currentConversation,\n        isLoading,\n        error,\n        createConversation,\n        selectConversation,\n        sendMessage,\n        updateConversationTitle,\n        deleteConversation,\n        changeModel\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(ChatContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/app/src/contexts/ChatContext.tsx\",\n        lineNumber: 274,\n        columnNumber: 5\n    }, undefined);\n};\nconst useChat = ()=>{\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(ChatContext);\n    if (context === undefined) {\n        throw new Error(\"useChat must be used within a ChatProvider\");\n    }\n    return context;\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QixxQkFBcUIrQixPQUFPQSxJQUFJO2dCQUNsQzlCLHVCQUF1QjtZQUN6QjtRQUNGLEVBQUUsT0FBT3NCLEtBQUs7WUFDWmxCLFNBQVM7UUFDWDtJQUNGLEdBQUc7UUFBQ0w7UUFBcUJNO0tBQVM7SUFFbEMsZ0RBQWdEO0lBQ2hELE1BQU1nRCxjQUFjakUsa0RBQVdBLENBQUMsT0FBT2tEO1FBQ3JDLElBQUksQ0FBQ3ZDLHVCQUF1QixDQUFDTSxVQUFVO1FBRXZDLElBQUk7WUFDRixNQUFNYix5Q0FBR0EsQ0FBQ3dELGtCQUFrQixDQUFDakQsb0JBQW9CK0IsRUFBRSxFQUFFO2dCQUFFUTtZQUFNO1lBRTdEdEMsdUJBQXVCYyxDQUFBQTtnQkFDckIsSUFBSSxDQUFDQSxNQUFNLE9BQU87Z0JBQ2xCLE9BQU87b0JBQUUsR0FBR0EsSUFBSTtvQkFBRXdCO2dCQUFNO1lBQzFCO1FBQ0YsRUFBRSxPQUFPaEIsS0FBSztZQUNabEIsU0FBUztRQUNYO0lBQ0YsR0FBRztRQUFDTDtRQUFxQk07S0FBUztJQUVsQyxxQ0FBcUM7SUFDckNoQixnREFBU0EsQ0FBQztRQUNSLE9BQU87WUFDTG9DO1FBQ0Y7SUFDRixHQUFHO1FBQUNBO0tBQVc7SUFFZixNQUFNNkIsUUFBUTtRQUNaekQ7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQWtDO1FBQ0FHO1FBQ0FHO1FBQ0FHO1FBQ0FLO1FBQ0FFO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQzVELFlBQVk4RCxRQUFRO1FBQUNELE9BQU9BO2tCQUMxQjFEOzs7Ozs7QUFHUCxFQUFFO0FBRUssTUFBTTRELFVBQVU7SUFDckIsTUFBTUMsVUFBVXZFLGlEQUFVQSxDQUFDTztJQUMzQixJQUFJZ0UsWUFBWS9ELFdBQVc7UUFDekIsTUFBTSxJQUFJZ0UsTUFBTTtJQUNsQjtJQUNBLE9BQU9EO0FBQ1QsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3VydS1jaGF0Ym90Ly4vc3JjL2NvbnRleHRzL0NoYXRDb250ZXh0LnRzeD8wYjU4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VTdGF0ZSwgdXNlQ2FsbGJhY2ssIFJlYWN0Tm9kZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgeyBnZXRBcGlLZXkgfSBmcm9tICcuLi9saWIvZW5jcnlwdGlvbic7XHJcbmltcG9ydCB7IHVzZVNTRSB9IGZyb20gJy4uL2hvb2tzL3VzZVNTRSc7XHJcbmltcG9ydCB7IGFwaSB9IGZyb20gJy4uL2xpYi9hcGknO1xyXG5cclxuaW50ZXJmYWNlIE1lc3NhZ2Uge1xyXG4gIHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnIHwgJ3N5c3RlbSc7XHJcbiAgY29udGVudDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ29udmVyc2F0aW9uIHtcclxuICBpZDogc3RyaW5nO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgbWVzc2FnZXM6IE1lc3NhZ2VbXTtcclxuICBtb2RlbDogc3RyaW5nO1xyXG4gIGNyZWF0ZWRBdDogc3RyaW5nO1xyXG4gIHVwZGF0ZWRBdDogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgQ2hhdENvbnRleHRUeXBlIHtcclxuICBjb252ZXJzYXRpb25zOiBDb252ZXJzYXRpb25bXTtcclxuICBjdXJyZW50Q29udmVyc2F0aW9uOiBDb252ZXJzYXRpb24gfCBudWxsO1xyXG4gIGlzTG9hZGluZzogYm9vbGVhbjtcclxuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcclxuICBjcmVhdGVDb252ZXJzYXRpb246IChtb2RlbDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIHNlbGVjdENvbnZlcnNhdGlvbjogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgc2VuZE1lc3NhZ2U6IChjb250ZW50OiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgdXBkYXRlQ29udmVyc2F0aW9uVGl0bGU6IChpZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG4gIGRlbGV0ZUNvbnZlcnNhdGlvbjogKGlkOiBzdHJpbmcpID0+IFByb21pc2U8dm9pZD47XHJcbiAgY2hhbmdlTW9kZWw6IChtb2RlbDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xyXG59XHJcblxyXG5jb25zdCBDaGF0Q29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8Q2hhdENvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xyXG5cclxuZXhwb3J0IGNvbnN0IENoYXRQcm92aWRlcjogUmVhY3QuRkM8eyBjaGlsZHJlbjogUmVhY3ROb2RlIH0+ID0gKHsgY2hpbGRyZW4gfSkgPT4ge1xyXG4gIGNvbnN0IFtjb252ZXJzYXRpb25zLCBzZXRDb252ZXJzYXRpb25zXSA9IHVzZVN0YXRlPENvbnZlcnNhdGlvbltdPihbXSk7XHJcbiAgY29uc3QgW2N1cnJlbnRDb252ZXJzYXRpb24sIHNldEN1cnJlbnRDb252ZXJzYXRpb25dID0gdXNlU3RhdGU8Q29udmVyc2F0aW9uIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlPGJvb2xlYW4+KHRydWUpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XHJcbiAgY29uc3QgW2lzQ2xpZW50LCBzZXRJc0NsaWVudF0gPSB1c2VTdGF0ZShmYWxzZSk7XHJcbiAgXHJcbiAgLy8gSW5pdGlhbGl6ZSBjbGllbnQtc2lkZSBzdGF0ZVxyXG4gIHVzZUVmZmVjdCgoKSA9PiB7XHJcbiAgICBzZXRJc0NsaWVudCh0cnVlKTtcclxuICAgIGxvYWRDb252ZXJzYXRpb25zKCkuZmluYWxseSgoKSA9PiBzZXRJc0xvYWRpbmcoZmFsc2UpKTtcclxuICB9LCBbXSk7XHJcbiAgXHJcbiAgLy8gSGFuZGxlIGluY29taW5nIFNTRSBtZXNzYWdlc1xyXG4gIGNvbnN0IGhhbmRsZVNTRU1lc3NhZ2UgPSB1c2VDYWxsYmFjaygoZGF0YTogc3RyaW5nKSA9PiB7XHJcbiAgICBpZiAoIWN1cnJlbnRDb252ZXJzYXRpb24gfHwgIWlzQ2xpZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHBhcnNlZERhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xyXG4gICAgICBcclxuICAgICAgc2V0Q3VycmVudENvbnZlcnNhdGlvbihwcmV2ID0+IHtcclxuICAgICAgICBpZiAoIXByZXYpIHJldHVybiBudWxsO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHVwZGF0ZWRNZXNzYWdlcyA9IFsuLi5wcmV2Lm1lc3NhZ2VzXTtcclxuICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IHVwZGF0ZWRNZXNzYWdlc1t1cGRhdGVkTWVzc2FnZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gSWYgdGhlIGxhc3QgbWVzc2FnZSBpcyBmcm9tIHRoZSBhc3Npc3RhbnQsIGFwcGVuZCB0byBpdFxyXG4gICAgICAgIGlmIChsYXN0TWVzc2FnZSAmJiBsYXN0TWVzc2FnZS5yb2xlID09PSAnYXNzaXN0YW50Jykge1xyXG4gICAgICAgICAgdXBkYXRlZE1lc3NhZ2VzW3VwZGF0ZWRNZXNzYWdlcy5sZW5ndGggLSAxXSA9IHtcclxuICAgICAgICAgICAgLi4ubGFzdE1lc3NhZ2UsXHJcbiAgICAgICAgICAgIGNvbnRlbnQ6IGxhc3RNZXNzYWdlLmNvbnRlbnQgKyBwYXJzZWREYXRhLmNvbnRlbnRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIC8vIE90aGVyd2lzZSBjcmVhdGUgYSBuZXcgbWVzc2FnZVxyXG4gICAgICAgICAgdXBkYXRlZE1lc3NhZ2VzLnB1c2goe1xyXG4gICAgICAgICAgICByb2xlOiAnYXNzaXN0YW50JyxcclxuICAgICAgICAgICAgY29udGVudDogcGFyc2VkRGF0YS5jb250ZW50XHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIC4uLnByZXYsXHJcbiAgICAgICAgICBtZXNzYWdlczogdXBkYXRlZE1lc3NhZ2VzXHJcbiAgICAgICAgfTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRmFpbGVkIHRvIHBhcnNlIFNTRSBtZXNzYWdlOicsIGVycik7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRDb252ZXJzYXRpb24sIGlzQ2xpZW50XSk7XHJcbiAgXHJcbiAgLy8gU1NFIGNvbm5lY3Rpb24gZm9yIHN0cmVhbWluZyByZXNwb25zZXNcclxuICBjb25zdCB7IGNvbm5lY3QsIGRpc2Nvbm5lY3QgfSA9IHVzZVNTRSh7XHJcbiAgICB1cmw6IGlzQ2xpZW50ID8gYCR7cHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTH0vY2hhdC9zdHJlYW0/Y29udmVyc2F0aW9uSWQ9JHtjdXJyZW50Q29udmVyc2F0aW9uPy5pZCB8fCAnJ31gIDogJycsXHJcbiAgICBvbk1lc3NhZ2U6IGhhbmRsZVNTRU1lc3NhZ2UsXHJcbiAgICBvbkVycm9yOiAoZXZlbnQpID0+IHtcclxuICAgICAgc2V0RXJyb3IoJ0Nvbm5lY3Rpb24gZXJyb3I6IFBsZWFzZSB0cnkgYWdhaW4nKTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0sXHJcbiAgICBvbkNvbXBsZXRlOiAoKSA9PiB7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICB9XHJcbiAgfSk7XHJcbiAgXHJcbiAgLy8gTG9hZCBjb252ZXJzYXRpb25zXHJcbiAgY29uc3QgbG9hZENvbnZlcnNhdGlvbnMgPSB1c2VDYWxsYmFjayhhc3luYyAoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50KSByZXR1cm47XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpLmdldENvbnZlcnNhdGlvbnMoKTtcclxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhyZXNwb25zZSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBsb2FkIGNvbnZlcnNhdGlvbnMnKTtcclxuICAgIH1cclxuICB9LCBbaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBDcmVhdGUgYSBuZXcgY29udmVyc2F0aW9uXHJcbiAgY29uc3QgY3JlYXRlQ29udmVyc2F0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKG1vZGVsOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IG5ld0NvbnZlcnNhdGlvbiA9IGF3YWl0IGFwaS5jcmVhdGVDb252ZXJzYXRpb24obW9kZWwpO1xyXG4gICAgICBcclxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhwcmV2ID0+IFtuZXdDb252ZXJzYXRpb24sIC4uLnByZXZdKTtcclxuICAgICAgc2V0Q3VycmVudENvbnZlcnNhdGlvbih7XHJcbiAgICAgICAgLi4ubmV3Q29udmVyc2F0aW9uLFxyXG4gICAgICAgIG1lc3NhZ2VzOiBbXVxyXG4gICAgICB9KTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGNyZWF0ZSBjb252ZXJzYXRpb24nKTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBTZWxlY3QgYW4gZXhpc3RpbmcgY29udmVyc2F0aW9uXHJcbiAgY29uc3Qgc2VsZWN0Q29udmVyc2F0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGNvbnZlcnNhdGlvbiA9IGF3YWl0IGFwaS5nZXRDb252ZXJzYXRpb24oaWQpO1xyXG4gICAgICBzZXRDdXJyZW50Q29udmVyc2F0aW9uKHtcclxuICAgICAgICAuLi5jb252ZXJzYXRpb24sXHJcbiAgICAgICAgbWVzc2FnZXM6IFtdXHJcbiAgICAgIH0pO1xyXG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIHNldEVycm9yKCdGYWlsZWQgdG8gbG9hZCBjb252ZXJzYXRpb24nKTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBTZW5kIGEgbWVzc2FnZSBpbiB0aGUgY3VycmVudCBjb252ZXJzYXRpb25cclxuICBjb25zdCBzZW5kTWVzc2FnZSA9IHVzZUNhbGxiYWNrKGFzeW5jIChjb250ZW50OiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghY3VycmVudENvbnZlcnNhdGlvbiB8fCAhaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgc2V0SXNMb2FkaW5nKHRydWUpO1xyXG4gICAgc2V0RXJyb3IobnVsbCk7XHJcbiAgICBcclxuICAgIC8vIEdldCBBUEkga2V5IGZyb20gc2VjdXJlIHN0b3JhZ2VcclxuICAgIGNvbnN0IGFwaUtleSA9IGdldEFwaUtleSgpO1xyXG4gICAgaWYgKCFhcGlLZXkpIHtcclxuICAgICAgc2V0RXJyb3IoJ0FQSSBrZXkgbm90IGZvdW5kLiBQbGVhc2UgYWRkIHlvdXIgT3BlbkFJIEFQSSBrZXkgaW4gc2V0dGluZ3MuJyk7XHJcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XHJcbiAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gVXBkYXRlIFVJIG9wdGltaXN0aWNhbGx5XHJcbiAgICBjb25zdCBuZXdNZXNzYWdlOiBNZXNzYWdlID0geyByb2xlOiAndXNlcicsIGNvbnRlbnQgfTtcclxuICAgIHNldEN1cnJlbnRDb252ZXJzYXRpb24ocHJldiA9PiB7XHJcbiAgICAgIGlmICghcHJldikgcmV0dXJuIG51bGw7XHJcbiAgICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ucHJldixcclxuICAgICAgICBtZXNzYWdlczogWy4uLnByZXYubWVzc2FnZXMsIG5ld01lc3NhZ2VdXHJcbiAgICAgIH07XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgLy8gU2VuZCBtZXNzYWdlIHRvIEFQSVxyXG4gICAgICBhd2FpdCBhcGkuc2VuZE1lc3NhZ2UoXHJcbiAgICAgICAgY3VycmVudENvbnZlcnNhdGlvbi5pZCxcclxuICAgICAgICBjb250ZW50LFxyXG4gICAgICAgIGFwaUtleSxcclxuICAgICAgICBjdXJyZW50Q29udmVyc2F0aW9uLm1vZGVsXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDb25uZWN0IHRvIFNTRSBzdHJlYW0gdG8gcmVjZWl2ZSByZXNwb25zZVxyXG4gICAgICBjb25uZWN0KCk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBzZW5kIG1lc3NhZ2UnKTtcclxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcclxuICAgIH1cclxuICB9LCBbY3VycmVudENvbnZlcnNhdGlvbiwgY29ubmVjdCwgaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBVcGRhdGUgY29udmVyc2F0aW9uIHRpdGxlXHJcbiAgY29uc3QgdXBkYXRlQ29udmVyc2F0aW9uVGl0bGUgPSB1c2VDYWxsYmFjayhhc3luYyAoaWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCFpc0NsaWVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBhcGkudXBkYXRlQ29udmVyc2F0aW9uKGlkLCB7IHRpdGxlIH0pO1xyXG4gICAgICBcclxuICAgICAgc2V0Q29udmVyc2F0aW9ucyhwcmV2ID0+IFxyXG4gICAgICAgIHByZXYubWFwKGNvbnYgPT4gXHJcbiAgICAgICAgICBjb252LmlkID09PSBpZCA/IHsgLi4uY29udiwgdGl0bGUgfSA6IGNvbnZcclxuICAgICAgICApXHJcbiAgICAgICk7XHJcbiAgICAgIFxyXG4gICAgICBpZiAoY3VycmVudENvbnZlcnNhdGlvbj8uaWQgPT09IGlkKSB7XHJcbiAgICAgICAgc2V0Q3VycmVudENvbnZlcnNhdGlvbihwcmV2ID0+IHtcclxuICAgICAgICAgIGlmICghcHJldikgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICByZXR1cm4geyAuLi5wcmV2LCB0aXRsZSB9O1xyXG4gICAgICAgIH0pO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byB1cGRhdGUgY29udmVyc2F0aW9uIHRpdGxlJyk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRDb252ZXJzYXRpb24sIGlzQ2xpZW50XSk7XHJcbiAgXHJcbiAgLy8gRGVsZXRlIGEgY29udmVyc2F0aW9uXHJcbiAgY29uc3QgZGVsZXRlQ29udmVyc2F0aW9uID0gdXNlQ2FsbGJhY2soYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcclxuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgdHJ5IHtcclxuICAgICAgYXdhaXQgYXBpLmRlbGV0ZUNvbnZlcnNhdGlvbihpZCk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRDb252ZXJzYXRpb25zKHByZXYgPT4gXHJcbiAgICAgICAgcHJldi5maWx0ZXIoY29udiA9PiBjb252LmlkICE9PSBpZClcclxuICAgICAgKTtcclxuICAgICAgXHJcbiAgICAgIGlmIChjdXJyZW50Q29udmVyc2F0aW9uPy5pZCA9PT0gaWQpIHtcclxuICAgICAgICBzZXRDdXJyZW50Q29udmVyc2F0aW9uKG51bGwpO1xyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBkZWxldGUgY29udmVyc2F0aW9uJyk7XHJcbiAgICB9XHJcbiAgfSwgW2N1cnJlbnRDb252ZXJzYXRpb24sIGlzQ2xpZW50XSk7XHJcbiAgXHJcbiAgLy8gQ2hhbmdlIHRoZSBtb2RlbCBmb3IgdGhlIGN1cnJlbnQgY29udmVyc2F0aW9uXHJcbiAgY29uc3QgY2hhbmdlTW9kZWwgPSB1c2VDYWxsYmFjayhhc3luYyAobW9kZWw6IHN0cmluZykgPT4ge1xyXG4gICAgaWYgKCFjdXJyZW50Q29udmVyc2F0aW9uIHx8ICFpc0NsaWVudCkgcmV0dXJuO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBhcGkudXBkYXRlQ29udmVyc2F0aW9uKGN1cnJlbnRDb252ZXJzYXRpb24uaWQsIHsgbW9kZWwgfSk7XHJcbiAgICAgIFxyXG4gICAgICBzZXRDdXJyZW50Q29udmVyc2F0aW9uKHByZXYgPT4ge1xyXG4gICAgICAgIGlmICghcHJldikgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgcmV0dXJuIHsgLi4ucHJldiwgbW9kZWwgfTtcclxuICAgICAgfSk7XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgc2V0RXJyb3IoJ0ZhaWxlZCB0byBjaGFuZ2UgbW9kZWwnKTtcclxuICAgIH1cclxuICB9LCBbY3VycmVudENvbnZlcnNhdGlvbiwgaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBDbGVhbiB1cCBTU0UgY29ubmVjdGlvbiBvbiB1bm1vdW50XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIHJldHVybiAoKSA9PiB7XHJcbiAgICAgIGRpc2Nvbm5lY3QoKTtcclxuICAgIH07XHJcbiAgfSwgW2Rpc2Nvbm5lY3RdKTtcclxuICBcclxuICBjb25zdCB2YWx1ZSA9IHtcclxuICAgIGNvbnZlcnNhdGlvbnMsXHJcbiAgICBjdXJyZW50Q29udmVyc2F0aW9uLFxyXG4gICAgaXNMb2FkaW5nLFxyXG4gICAgZXJyb3IsXHJcbiAgICBjcmVhdGVDb252ZXJzYXRpb24sXHJcbiAgICBzZWxlY3RDb252ZXJzYXRpb24sXHJcbiAgICBzZW5kTWVzc2FnZSxcclxuICAgIHVwZGF0ZUNvbnZlcnNhdGlvblRpdGxlLFxyXG4gICAgZGVsZXRlQ29udmVyc2F0aW9uLFxyXG4gICAgY2hhbmdlTW9kZWxcclxuICB9O1xyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8Q2hhdENvbnRleHQuUHJvdmlkZXIgdmFsdWU9e3ZhbHVlfT5cclxuICAgICAge2NoaWxkcmVufVxyXG4gICAgPC9DaGF0Q29udGV4dC5Qcm92aWRlcj5cclxuICApO1xyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHVzZUNoYXQgPSAoKSA9PiB7XHJcbiAgY29uc3QgY29udGV4dCA9IHVzZUNvbnRleHQoQ2hhdENvbnRleHQpO1xyXG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcclxuICAgIHRocm93IG5ldyBFcnJvcigndXNlQ2hhdCBtdXN0IGJlIHVzZWQgd2l0aGluIGEgQ2hhdFByb3ZpZGVyJyk7XHJcbiAgfVxyXG4gIHJldHVybiBjb250ZXh0O1xyXG59O1xyXG4iXSwibmFtZXMiOlsiUmVhY3QiLCJjcmVhdGVDb250ZXh0IiwidXNlQ29udGV4dCIsInVzZVN0YXRlIiwidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJnZXRBcGlLZXkiLCJ1c2VTU0UiLCJhcGkiLCJDaGF0Q29udGV4dCIsInVuZGVmaW5lZCIsIkNoYXRQcm92aWRlciIsImNoaWxkcmVuIiwiY29udmVyc2F0aW9ucyIsInNldENvbnZlcnNhdGlvbnMiLCJjdXJyZW50Q29udmVyc2F0aW9uIiwic2V0Q3VycmVudENvbnZlcnNhdGlvbiIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJpc0NsaWVudCIsInNldElzQ2xpZW50IiwibG9hZENvbnZlcnNhdGlvbnMiLCJmaW5hbGx5IiwiaGFuZGxlU1NFTWVzc2FnZSIsImRhdGEiLCJwYXJzZWREYXRhIiwiSlNPTiIsInBhcnNlIiwicHJldiIsInVwZGF0ZWRNZXNzYWdlcyIsIm1lc3NhZ2VzIiwibGFzdE1lc3NhZ2UiLCJsZW5ndGgiLCJyb2xlIiwiY29udGVudCIsInB1c2giLCJlcnIiLCJjb25zb2xlIiwiY29ubmVjdCIsImRpc2Nvbm5lY3QiLCJ1cmwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImlkIiwib25NZXNzYWdlIiwib25FcnJvciIsImV2ZW50Iiwib25Db21wbGV0ZSIsInJlc3BvbnNlIiwiZ2V0Q29udmVyc2F0aW9ucyIsImNyZWF0ZUNvbnZlcnNhdGlvbiIsIm1vZGVsIiwibmV3Q29udmVyc2F0aW9uIiwic2VsZWN0Q29udmVyc2F0aW9uIiwiY29udmVyc2F0aW9uIiwiZ2V0Q29udmVyc2F0aW9uIiwic2VuZE1lc3NhZ2UiLCJhcGlLZXkiLCJuZXdNZXNzYWdlIiwidXBkYXRlQ29udmVyc2F0aW9uVGl0bGUiLCJ0aXRsZSIsInVwZGF0ZUNvbnZlcnNhdGlvbiIsIm1hcCIsImNvbnYiLCJkZWxldGVDb252ZXJzYXRpb24iLCJmaWx0ZXIiLCJjaGFuZ2VNb2RlbCIsInZhbHVlIiwiUHJvdmlkZXIiLCJ1c2VDaGF0IiwiY29udGV4dCIsIkVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/contexts/ChatContext.tsx\n");

/***/ }),

/***/ "./src/hooks/useSSE.ts":
/*!*****************************!*\
  !*** ./src/hooks/useSSE.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   useSSE: () => (/* binding */ useSSE)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n\nconst useSSE = ({ url, onMessage, onError, onComplete, headers = {}, withCredentials = true })=>{\n    const [isConnected, setIsConnected] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);\n    const eventSourceRef = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null);\n    const reconnectAttempts = (0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(0);\n    const maxReconnectAttempts = 5;\n    const isClient = \"undefined\" !== \"undefined\";\n    const disconnect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!isClient) return;\n        if (eventSourceRef.current) {\n            eventSourceRef.current.close();\n            eventSourceRef.current = null;\n            setIsConnected(false);\n        }\n    }, [\n        isClient\n    ]);\n    const connect = (0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)(()=>{\n        if (!isClient || !url) return;\n        // Clean up existing connection\n        disconnect();\n        try {\n            // Create new EventSource connection\n            const eventSource = new EventSource(url, {\n                withCredentials\n            });\n            eventSourceRef.current = eventSource;\n            // Set up event handlers\n            eventSource.onopen = ()=>{\n                setIsConnected(true);\n                reconnectAttempts.current = 0;\n                setError(null);\n            };\n            eventSource.onerror = (event)=>{\n                setError(event);\n                setIsConnected(false);\n                // Handle reconnection with exponential backoff\n                if (reconnectAttempts.current < maxReconnectAttempts) {\n                    const timeout = Math.pow(2, reconnectAttempts.current) * 1000;\n                    reconnectAttempts.current += 1;\n                    setTimeout(()=>{\n                        if (eventSourceRef.current === eventSource) {\n                            connect();\n                        }\n                    }, timeout);\n                } else if (onError) {\n                    onError(event);\n                }\n            };\n            // Message event handler\n            eventSource.addEventListener(\"message\", (event)=>{\n                onMessage(event.data);\n            });\n            // Complete event handler\n            eventSource.addEventListener(\"complete\", ()=>{\n                if (onComplete) {\n                    onComplete();\n                }\n                disconnect();\n            });\n            // Error event handler for specific error events\n            eventSource.addEventListener(\"error\", (event)=>{\n                // MessageEvent has data property, but regular Event doesn't\n                const messageEvent = event;\n                if (messageEvent.data) {\n                    try {\n                        const data = JSON.parse(messageEvent.data);\n                        if (onError) {\n                            onError(new ErrorEvent(\"error\", {\n                                message: data.message\n                            }));\n                        }\n                    } catch (err) {\n                        if (onError) {\n                            onError(event);\n                        }\n                    }\n                } else {\n                    if (onError) {\n                        onError(event);\n                    }\n                }\n                disconnect();\n            });\n        } catch (err) {\n            console.error(\"Failed to establish SSE connection:\", err);\n            setError(err);\n        }\n    }, [\n        url,\n        onMessage,\n        onError,\n        onComplete,\n        disconnect,\n        withCredentials,\n        isClient\n    ]);\n    // Clean up on unmount\n    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(()=>{\n        if (!isClient) return;\n        return ()=>{\n            disconnect();\n        };\n    }, [\n        disconnect,\n        isClient\n    ]);\n    return {\n        isConnected,\n        error,\n        connect,\n        disconnect\n    };\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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O1FBQVlUO1FBQWlCUTtLQUFTO0lBRS9FLHNCQUFzQjtJQUN0QmpCLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxDQUFDaUIsVUFBVTtRQUVmLE9BQU87WUFDTEM7UUFDRjtJQUNGLEdBQUc7UUFBQ0E7UUFBWUQ7S0FBUztJQUV6QixPQUFPO1FBQ0xQO1FBQ0FFO1FBQ0FTO1FBQ0FIO0lBQ0Y7QUFDRixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdXJ1LWNoYXRib3QvLi9zcmMvaG9va3MvdXNlU1NFLnRzP2VlYzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjayB9IGZyb20gJ3JlYWN0JztcclxuXHJcbmludGVyZmFjZSBVc2VTU0VPcHRpb25zIHtcclxuICB1cmw6IHN0cmluZztcclxuICBvbk1lc3NhZ2U6IChkYXRhOiBzdHJpbmcpID0+IHZvaWQ7XHJcbiAgb25FcnJvcj86IChlcnJvcjogRXZlbnQpID0+IHZvaWQ7XHJcbiAgb25Db21wbGV0ZT86ICgpID0+IHZvaWQ7XHJcbiAgaGVhZGVycz86IFJlY29yZDxzdHJpbmcsIHN0cmluZz47XHJcbiAgd2l0aENyZWRlbnRpYWxzPzogYm9vbGVhbjtcclxufVxyXG5cclxuaW50ZXJmYWNlIFVzZVNTRVJldHVybiB7XHJcbiAgaXNDb25uZWN0ZWQ6IGJvb2xlYW47XHJcbiAgZXJyb3I6IEV2ZW50IHwgbnVsbDtcclxuICBjb25uZWN0OiAoKSA9PiB2b2lkO1xyXG4gIGRpc2Nvbm5lY3Q6ICgpID0+IHZvaWQ7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCB1c2VTU0UgPSAoe1xyXG4gIHVybCxcclxuICBvbk1lc3NhZ2UsXHJcbiAgb25FcnJvcixcclxuICBvbkNvbXBsZXRlLFxyXG4gIGhlYWRlcnMgPSB7fSxcclxuICB3aXRoQ3JlZGVudGlhbHMgPSB0cnVlXHJcbn06IFVzZVNTRU9wdGlvbnMpOiBVc2VTU0VSZXR1cm4gPT4ge1xyXG4gIGNvbnN0IFtpc0Nvbm5lY3RlZCwgc2V0SXNDb25uZWN0ZWRdID0gdXNlU3RhdGU8Ym9vbGVhbj4oZmFsc2UpO1xyXG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8RXZlbnQgfCBudWxsPihudWxsKTtcclxuICBjb25zdCBldmVudFNvdXJjZVJlZiA9IHVzZVJlZjxFdmVudFNvdXJjZSB8IG51bGw+KG51bGwpO1xyXG4gIGNvbnN0IHJlY29ubmVjdEF0dGVtcHRzID0gdXNlUmVmPG51bWJlcj4oMCk7XHJcbiAgY29uc3QgbWF4UmVjb25uZWN0QXR0ZW1wdHMgPSA1O1xyXG4gIGNvbnN0IGlzQ2xpZW50ID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XHJcbiAgXHJcbiAgY29uc3QgZGlzY29ubmVjdCA9IHVzZUNhbGxiYWNrKCgpID0+IHtcclxuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgaWYgKGV2ZW50U291cmNlUmVmLmN1cnJlbnQpIHtcclxuICAgICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudC5jbG9zZSgpO1xyXG4gICAgICBldmVudFNvdXJjZVJlZi5jdXJyZW50ID0gbnVsbDtcclxuICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xyXG4gICAgfVxyXG4gIH0sIFtpc0NsaWVudF0pO1xyXG4gIFxyXG4gIGNvbnN0IGNvbm5lY3QgPSB1c2VDYWxsYmFjaygoKSA9PiB7XHJcbiAgICBpZiAoIWlzQ2xpZW50IHx8ICF1cmwpIHJldHVybjtcclxuICAgIFxyXG4gICAgLy8gQ2xlYW4gdXAgZXhpc3RpbmcgY29ubmVjdGlvblxyXG4gICAgZGlzY29ubmVjdCgpO1xyXG4gICAgXHJcbiAgICB0cnkge1xyXG4gICAgICAvLyBDcmVhdGUgbmV3IEV2ZW50U291cmNlIGNvbm5lY3Rpb25cclxuICAgICAgY29uc3QgZXZlbnRTb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UodXJsLCB7IHdpdGhDcmVkZW50aWFscyB9KTtcclxuICAgICAgZXZlbnRTb3VyY2VSZWYuY3VycmVudCA9IGV2ZW50U291cmNlO1xyXG4gICAgICBcclxuICAgICAgLy8gU2V0IHVwIGV2ZW50IGhhbmRsZXJzXHJcbiAgICAgIGV2ZW50U291cmNlLm9ub3BlbiA9ICgpID0+IHtcclxuICAgICAgICBzZXRJc0Nvbm5lY3RlZCh0cnVlKTtcclxuICAgICAgICByZWNvbm5lY3RBdHRlbXB0cy5jdXJyZW50ID0gMDtcclxuICAgICAgICBzZXRFcnJvcihudWxsKTtcclxuICAgICAgfTtcclxuICAgICAgXHJcbiAgICAgIGV2ZW50U291cmNlLm9uZXJyb3IgPSAoZXZlbnQpID0+IHtcclxuICAgICAgICBzZXRFcnJvcihldmVudCk7XHJcbiAgICAgICAgc2V0SXNDb25uZWN0ZWQoZmFsc2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIC8vIEhhbmRsZSByZWNvbm5lY3Rpb24gd2l0aCBleHBvbmVudGlhbCBiYWNrb2ZmXHJcbiAgICAgICAgaWYgKHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgPCBtYXhSZWNvbm5lY3RBdHRlbXB0cykge1xyXG4gICAgICAgICAgY29uc3QgdGltZW91dCA9IE1hdGgucG93KDIsIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQpICogMTAwMDtcclxuICAgICAgICAgIHJlY29ubmVjdEF0dGVtcHRzLmN1cnJlbnQgKz0gMTtcclxuICAgICAgICAgIFxyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChldmVudFNvdXJjZVJlZi5jdXJyZW50ID09PSBldmVudFNvdXJjZSkge1xyXG4gICAgICAgICAgICAgIGNvbm5lY3QoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfSwgdGltZW91dCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICBvbkVycm9yKGV2ZW50KTtcclxuICAgICAgICB9XHJcbiAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICAvLyBNZXNzYWdlIGV2ZW50IGhhbmRsZXJcclxuICAgICAgZXZlbnRTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIChldmVudCkgPT4ge1xyXG4gICAgICAgIG9uTWVzc2FnZShldmVudC5kYXRhKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBDb21wbGV0ZSBldmVudCBoYW5kbGVyXHJcbiAgICAgIGV2ZW50U291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbXBsZXRlJywgKCkgPT4ge1xyXG4gICAgICAgIGlmIChvbkNvbXBsZXRlKSB7XHJcbiAgICAgICAgICBvbkNvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRpc2Nvbm5lY3QoKTtcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICAvLyBFcnJvciBldmVudCBoYW5kbGVyIGZvciBzcGVjaWZpYyBlcnJvciBldmVudHNcclxuICAgICAgZXZlbnRTb3VyY2UuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAvLyBNZXNzYWdlRXZlbnQgaGFzIGRhdGEgcHJvcGVydHksIGJ1dCByZWd1bGFyIEV2ZW50IGRvZXNuJ3RcclxuICAgICAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBldmVudCBhcyBNZXNzYWdlRXZlbnQ7XHJcbiAgICAgICAgaWYgKG1lc3NhZ2VFdmVudC5kYXRhKSB7XHJcbiAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRhID0gSlNPTi5wYXJzZShtZXNzYWdlRXZlbnQuZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgb25FcnJvcihuZXcgRXJyb3JFdmVudCgnZXJyb3InLCB7IG1lc3NhZ2U6IGRhdGEubWVzc2FnZSB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICBpZiAob25FcnJvcikge1xyXG4gICAgICAgICAgICAgIG9uRXJyb3IoZXZlbnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgIGlmIChvbkVycm9yKSB7XHJcbiAgICAgICAgICAgIG9uRXJyb3IoZXZlbnQpO1xyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBkaXNjb25uZWN0KCk7XHJcbiAgICAgIH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBlc3RhYmxpc2ggU1NFIGNvbm5lY3Rpb246JywgZXJyKTtcclxuICAgICAgc2V0RXJyb3IoZXJyIGFzIEV2ZW50KTtcclxuICAgIH1cclxuICB9LCBbdXJsLCBvbk1lc3NhZ2UsIG9uRXJyb3IsIG9uQ29tcGxldGUsIGRpc2Nvbm5lY3QsIHdpdGhDcmVkZW50aWFscywgaXNDbGllbnRdKTtcclxuICBcclxuICAvLyBDbGVhbiB1cCBvbiB1bm1vdW50XHJcbiAgdXNlRWZmZWN0KCgpID0+IHtcclxuICAgIGlmICghaXNDbGllbnQpIHJldHVybjtcclxuICAgIFxyXG4gICAgcmV0dXJuICgpID0+IHtcclxuICAgICAgZGlzY29ubmVjdCgpO1xyXG4gICAgfTtcclxuICB9LCBbZGlzY29ubmVjdCwgaXNDbGllbnRdKTtcclxuICBcclxuICByZXR1cm4ge1xyXG4gICAgaXNDb25uZWN0ZWQsXHJcbiAgICBlcnJvcixcclxuICAgIGNvbm5lY3QsXHJcbiAgICBkaXNjb25uZWN0XHJcbiAgfTtcclxufTtcclxuIl0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlQ2FsbGJhY2siLCJ1c2VTU0UiLCJ1cmwiLCJvbk1lc3NhZ2UiLCJvbkVycm9yIiwib25Db21wbGV0ZSIsImhlYWRlcnMiLCJ3aXRoQ3JlZGVudGlhbHMiLCJpc0Nvbm5lY3RlZCIsInNldElzQ29ubmVjdGVkIiwiZXJyb3IiLCJzZXRFcnJvciIsImV2ZW50U291cmNlUmVmIiwicmVjb25uZWN0QXR0ZW1wdHMiLCJtYXhSZWNvbm5lY3RBdHRlbXB0cyIsImlzQ2xpZW50IiwiZGlzY29ubmVjdCIsImN1cnJlbnQiLCJjbG9zZSIsImNvbm5lY3QiLCJldmVudFNvdXJjZSIsIkV2ZW50U291cmNlIiwib25vcGVuIiwib25lcnJvciIsImV2ZW50IiwidGltZW91dCIsIk1hdGgiLCJwb3ciLCJzZXRUaW1lb3V0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImRhdGEiLCJtZXNzYWdlRXZlbnQiLCJKU09OIiwicGFyc2UiLCJFcnJvckV2ZW50IiwibWVzc2FnZSIsImVyciIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/hooks/useSSE.ts\n");

/***/ }),

/***/ "./src/lib/api.ts":
/*!************************!*\
  !*** ./src/lib/api.ts ***!
  \************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   api: () => (/* binding */ api)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\nconst API_URL = \"http://localhost:8001\" || 0;\n// Create axios instance with base URL\nconst apiClient = axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].create({\n    baseURL: API_URL,\n    headers: {\n        \"Content-Type\": \"application/json\"\n    },\n    // Add timeout to prevent hanging requests\n    timeout: 10000,\n    // Add withCredentials for CORS\n    withCredentials: true\n});\n// Request interceptor to add auth token\napiClient.interceptors.request.use((config)=>{\n    // Only access localStorage in browser environment\n    if (false) {}\n    return config;\n}, (error)=>{\n    console.error(\"API Request Error:\", error);\n    return Promise.reject(error);\n});\n// Response interceptor for error handling\napiClient.interceptors.response.use((response)=>response, (error)=>{\n    console.error(\"API Response Error:\", error);\n    // Handle network errors\n    if (!error.response) {\n        console.error(\"Network Error - Unable to reach the server\");\n        return Promise.reject(new Error(\"Unable to connect to the server. Please check your internet connection.\"));\n    }\n    // Handle 401 Unauthorized errors\n    if (error.response.status === 401) {\n        // Only access localStorage in browser environment\n        if (false) {}\n    }\n    // Handle other errors\n    const errorMessage = error.response?.data?.detail || \"An unexpected error occurred\";\n    return Promise.reject(new Error(errorMessage));\n});\nconst api = {\n    // Auth endpoints\n    login: async (email, password)=>{\n        const formData = new URLSearchParams();\n        formData.append(\"username\", email);\n        formData.append(\"password\", password);\n        const response = await apiClient.post(\"/auth/login\", formData.toString(), {\n            headers: {\n                \"Content-Type\": \"application/x-www-form-urlencoded\"\n            }\n        });\n        return response.data;\n    },\n    register: async (email, password)=>{\n        const response = await apiClient.post(\"/auth/register\", {\n            email,\n            password\n        });\n        return response.data;\n    },\n    // Conversation endpoints\n    getConversations: async ()=>{\n        const response = await apiClient.get(\"/conversations\");\n        return response.data;\n    },\n    getConversation: async (id)=>{\n        const response = await apiClient.get(`/conversations/${id}`);\n        return response.data;\n    },\n    createConversation: async (model)=>{\n        const response = await apiClient.post(\"/conversations\", {\n            title: \"New conversation\",\n            model\n        });\n        return response.data;\n    },\n    updateConversation: async (id, data)=>{\n        const response = await apiClient.patch(`/conversations/${id}`, data);\n        return response.data;\n    },\n    deleteConversation: async (id)=>{\n        const response = await apiClient.delete(`/conversations/${id}`);\n        return response.data;\n    },\n    // Chat endpoints\n    sendMessage: async (conversationId, message, apiKey, model)=>{\n        const response = await apiClient.post(\"/chat/message\", {\n            conversationId,\n            message,\n            apiKey,\n            model\n        });\n        return response.data;\n    },\n    validateApiKey: async (apiKey)=>{\n        const response = await apiClient.post(\"/chat/validate-key\", {\n            apiKey\n        });\n        return response.data;\n    },\n    // Generic request method\n    get: async (url)=>{\n        const response = await apiClient.get(url);\n        return response;\n    },\n    post: async (url, data)=>{\n        const response = await apiClient.post(url, data);\n        return response;\n    },\n    patch: async (url, data)=>{\n        const response = await apiClient.patch(url, data);\n        return response;\n    },\n    delete: async (url)=>{\n        const response = await apiClient.delete(url);\n        return response;\n    }\n};\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU92QixTQUFTUSxJQUFJO0lBQ3RCO0lBRUEsaUJBQWlCO0lBQ2pCdUIsYUFBYSxPQUFPQyxnQkFBd0JDLFNBQWlCQyxRQUFnQlQ7UUFDM0UsTUFBTXpCLFdBQVcsTUFBTWxCLFVBQVVtQyxJQUFJLENBQUMsaUJBQWlCO1lBQ3JEZTtZQUNBQztZQUNBQztZQUNBVDtRQUNGO1FBQ0EsT0FBT3pCLFNBQVNRLElBQUk7SUFDdEI7SUFFQTJCLGdCQUFnQixPQUFPRDtRQUNyQixNQUFNbEMsV0FBVyxNQUFNbEIsVUFBVW1DLElBQUksQ0FBQyxzQkFBc0I7WUFBRWlCO1FBQU87UUFDckUsT0FBT2xDLFNBQVNRLElBQUk7SUFDdEI7SUFFQSx5QkFBeUI7SUFDekJhLEtBQUssT0FBT2U7UUFDVixNQUFNcEMsV0FBVyxNQUFNbEIsVUFBVXVDLEdBQUcsQ0FBQ2U7UUFDckMsT0FBT3BDO0lBQ1Q7SUFFQWlCLE1BQU0sT0FBT21CLEtBQWE1QjtRQUN4QixNQUFNUixXQUFXLE1BQU1sQixVQUFVbUMsSUFBSSxDQUFDbUIsS0FBSzVCO1FBQzNDLE9BQU9SO0lBQ1Q7SUFFQTRCLE9BQU8sT0FBT1EsS0FBYTVCO1FBQ3pCLE1BQU1SLFdBQVcsTUFBTWxCLFVBQVU4QyxLQUFLLENBQUNRLEtBQUs1QjtRQUM1QyxPQUFPUjtJQUNUO0lBRUE4QixRQUFRLE9BQU9NO1FBQ2IsTUFBTXBDLFdBQVcsTUFBTWxCLFVBQVVnRCxNQUFNLENBQUNNO1FBQ3hDLE9BQU9wQztJQUNUO0FBQ0YsRUFBRSIsInNvdXJjZXMiOlsid2VicGFjazovL3VydS1jaGF0Ym90Ly4vc3JjL2xpYi9hcGkudHM/MmZhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuXG5jb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDo4MDAxL2FwaSc7XG5cbi8vIENyZWF0ZSBheGlvcyBpbnN0YW5jZSB3aXRoIGJhc2UgVVJMXG5jb25zdCBhcGlDbGllbnQgPSBheGlvcy5jcmVhdGUoe1xuICBiYXNlVVJMOiBBUElfVVJMLFxuICBoZWFkZXJzOiB7XG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgfSxcbiAgLy8gQWRkIHRpbWVvdXQgdG8gcHJldmVudCBoYW5naW5nIHJlcXVlc3RzXG4gIHRpbWVvdXQ6IDEwMDAwLFxuICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIGZvciBDT1JTXG4gIHdpdGhDcmVkZW50aWFsczogdHJ1ZSxcbn0pO1xuXG4vLyBSZXF1ZXN0IGludGVyY2VwdG9yIHRvIGFkZCBhdXRoIHRva2VuXG5hcGlDbGllbnQuaW50ZXJjZXB0b3JzLnJlcXVlc3QudXNlKFxuICAoY29uZmlnKSA9PiB7XG4gICAgLy8gT25seSBhY2Nlc3MgbG9jYWxTdG9yYWdlIGluIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgICBpZiAodG9rZW4pIHtcbiAgICAgICAgY29uZmlnLmhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHt0b2tlbn1gO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY29uZmlnO1xuICB9LFxuICAoZXJyb3IpID0+IHtcbiAgICBjb25zb2xlLmVycm9yKCdBUEkgUmVxdWVzdCBFcnJvcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgfVxuKTtcblxuLy8gUmVzcG9uc2UgaW50ZXJjZXB0b3IgZm9yIGVycm9yIGhhbmRsaW5nXG5hcGlDbGllbnQuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZShcbiAgKHJlc3BvbnNlKSA9PiByZXNwb25zZSxcbiAgKGVycm9yKSA9PiB7XG4gICAgY29uc29sZS5lcnJvcignQVBJIFJlc3BvbnNlIEVycm9yOicsIGVycm9yKTtcbiAgICBcbiAgICAvLyBIYW5kbGUgbmV0d29yayBlcnJvcnNcbiAgICBpZiAoIWVycm9yLnJlc3BvbnNlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdOZXR3b3JrIEVycm9yIC0gVW5hYmxlIHRvIHJlYWNoIHRoZSBzZXJ2ZXInKTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ1VuYWJsZSB0byBjb25uZWN0IHRvIHRoZSBzZXJ2ZXIuIFBsZWFzZSBjaGVjayB5b3VyIGludGVybmV0IGNvbm5lY3Rpb24uJykpO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgNDAxIFVuYXV0aG9yaXplZCBlcnJvcnNcbiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHtcbiAgICAgIC8vIE9ubHkgYWNjZXNzIGxvY2FsU3RvcmFnZSBpbiBicm93c2VyIGVudmlyb25tZW50XG4gICAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VySWQnKTtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnL2xvZ2luJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSGFuZGxlIG90aGVyIGVycm9yc1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlPy5kYXRhPy5kZXRhaWwgfHwgJ0FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQnO1xuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG4gIH1cbik7XG5cbmV4cG9ydCBjb25zdCBhcGkgPSB7XG4gIC8vIEF1dGggZW5kcG9pbnRzXG4gIGxvZ2luOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IFVSTFNlYXJjaFBhcmFtcygpO1xuICAgIGZvcm1EYXRhLmFwcGVuZCgndXNlcm5hbWUnLCBlbWFpbCk7XG4gICAgZm9ybURhdGEuYXBwZW5kKCdwYXNzd29yZCcsIHBhc3N3b3JkKTtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0KCcvYXV0aC9sb2dpbicsIGZvcm1EYXRhLnRvU3RyaW5nKCksIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgXG4gIHJlZ2lzdGVyOiBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnBvc3QoJy9hdXRoL3JlZ2lzdGVyJywgeyBlbWFpbCwgcGFzc3dvcmQgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIFxuICAvLyBDb252ZXJzYXRpb24gZW5kcG9pbnRzXG4gIGdldENvbnZlcnNhdGlvbnM6IGFzeW5jICgpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5nZXQoJy9jb252ZXJzYXRpb25zJyk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIFxuICBnZXRDb252ZXJzYXRpb246IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KGAvY29udmVyc2F0aW9ucy8ke2lkfWApO1xuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xuICB9LFxuICBcbiAgY3JlYXRlQ29udmVyc2F0aW9uOiBhc3luYyAobW9kZWw6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LnBvc3QoJy9jb252ZXJzYXRpb25zJywgeyBcbiAgICAgIHRpdGxlOiAnTmV3IGNvbnZlcnNhdGlvbicsXG4gICAgICBtb2RlbCBcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgXG4gIHVwZGF0ZUNvbnZlcnNhdGlvbjogYXN5bmMgKGlkOiBzdHJpbmcsIGRhdGE6IHsgdGl0bGU/OiBzdHJpbmcsIG1vZGVsPzogc3RyaW5nIH0pID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wYXRjaChgL2NvbnZlcnNhdGlvbnMvJHtpZH1gLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2UuZGF0YTtcbiAgfSxcbiAgXG4gIGRlbGV0ZUNvbnZlcnNhdGlvbjogYXN5bmMgKGlkOiBzdHJpbmcpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5kZWxldGUoYC9jb252ZXJzYXRpb25zLyR7aWR9YCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIFxuICAvLyBDaGF0IGVuZHBvaW50c1xuICBzZW5kTWVzc2FnZTogYXN5bmMgKGNvbnZlcnNhdGlvbklkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZywgYXBpS2V5OiBzdHJpbmcsIG1vZGVsPzogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL2NoYXQvbWVzc2FnZScsIHtcbiAgICAgIGNvbnZlcnNhdGlvbklkLFxuICAgICAgbWVzc2FnZSxcbiAgICAgIGFwaUtleSxcbiAgICAgIG1vZGVsXG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIFxuICB2YWxpZGF0ZUFwaUtleTogYXN5bmMgKGFwaUtleTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucG9zdCgnL2NoYXQvdmFsaWRhdGUta2V5JywgeyBhcGlLZXkgfSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gIH0sXG4gIFxuICAvLyBHZW5lcmljIHJlcXVlc3QgbWV0aG9kXG4gIGdldDogYXN5bmMgKHVybDogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQuZ2V0KHVybCk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LFxuICBcbiAgcG9zdDogYXN5bmMgKHVybDogc3RyaW5nLCBkYXRhOiBhbnkpID0+IHtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGFwaUNsaWVudC5wb3N0KHVybCwgZGF0YSk7XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xuICB9LFxuICBcbiAgcGF0Y2g6IGFzeW5jICh1cmw6IHN0cmluZywgZGF0YTogYW55KSA9PiB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGlDbGllbnQucGF0Y2godXJsLCBkYXRhKTtcbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH0sXG4gIFxuICBkZWxldGU6IGFzeW5jICh1cmw6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgYXBpQ2xpZW50LmRlbGV0ZSh1cmwpO1xuICAgIHJldHVybiByZXNwb25zZTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJheGlvcyIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsImFwaUNsaWVudCIsImNyZWF0ZSIsImJhc2VVUkwiLCJoZWFkZXJzIiwidGltZW91dCIsIndpdGhDcmVkZW50aWFscyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJ1c2UiLCJjb25maWciLCJ0b2tlbiIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJBdXRob3JpemF0aW9uIiwiZXJyb3IiLCJjb25zb2xlIiwiUHJvbWlzZSIsInJlamVjdCIsInJlc3BvbnNlIiwiRXJyb3IiLCJzdGF0dXMiLCJyZW1vdmVJdGVtIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiZXJyb3JNZXNzYWdlIiwiZGF0YSIsImRldGFpbCIsImFwaSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsImZvcm1EYXRhIiwiVVJMU2VhcmNoUGFyYW1zIiwiYXBwZW5kIiwicG9zdCIsInRvU3RyaW5nIiwicmVnaXN0ZXIiLCJnZXRDb252ZXJzYXRpb25zIiwiZ2V0IiwiZ2V0Q29udmVyc2F0aW9uIiwiaWQiLCJjcmVhdGVDb252ZXJzYXRpb24iLCJtb2RlbCIsInRpdGxlIiwidXBkYXRlQ29udmVyc2F0aW9uIiwicGF0Y2giLCJkZWxldGVDb252ZXJzYXRpb24iLCJkZWxldGUiLCJzZW5kTWVzc2FnZSIsImNvbnZlcnNhdGlvbklkIiwibWVzc2FnZSIsImFwaUtleSIsInZhbGlkYXRlQXBpS2V5IiwidXJsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/api.ts\n");

/***/ }),

/***/ "./src/lib/encryption.ts":
/*!*******************************!*\
  !*** ./src/lib/encryption.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   clearApiKey: () => (/* binding */ clearApiKey),\n/* harmony export */   decryptData: () => (/* binding */ decryptData),\n/* harmony export */   encryptData: () => (/* binding */ encryptData),\n/* harmony export */   generateDeviceKey: () => (/* binding */ generateDeviceKey),\n/* harmony export */   getApiKey: () => (/* binding */ getApiKey),\n/* harmony export */   storeApiKey: () => (/* binding */ storeApiKey)\n/* harmony export */ });\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto-js */ \"crypto-js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_0__);\n\n// Constants for encryption\nconst DEFAULT_KEY = \"default-encryption-key\";\n// Helper to check if we're in a browser environment\nconst isBrowser = \"undefined\" !== \"undefined\";\n/**\r\n * Encrypts sensitive data with a user-specific key\r\n */ const encryptData = (data, userKey)=>{\n    if (!data || !userKey) return \"\";\n    try {\n        return crypto_js__WEBPACK_IMPORTED_MODULE_0___default().AES.encrypt(data, userKey).toString();\n    } catch (error) {\n        console.error(\"Encryption failed:\", error);\n        return \"\";\n    }\n};\n/**\r\n * Decrypts sensitive data with a user-specific key\r\n */ const decryptData = (encryptedData, userKey)=>{\n    if (!encryptedData || !userKey) return \"\";\n    try {\n        const bytes = crypto_js__WEBPACK_IMPORTED_MODULE_0___default().AES.decrypt(encryptedData, userKey);\n        return bytes.toString((crypto_js__WEBPACK_IMPORTED_MODULE_0___default().enc).Utf8);\n    } catch (error) {\n        console.error(\"Decryption failed:\", error);\n        return \"\";\n    }\n};\n/**\r\n * Generates a device-specific key for additional encryption layer\r\n */ const generateDeviceKey = ()=>{\n    if (!isBrowser) {\n        return DEFAULT_KEY;\n    }\n    try {\n        // Create a unique device identifier based on browser fingerprint\n        const browserInfo = [\n            navigator.userAgent,\n            navigator.language,\n            screen.colorDepth,\n            screen.width,\n            screen.height\n        ].join(\"|\");\n        return crypto_js__WEBPACK_IMPORTED_MODULE_0___default().MD5(browserInfo).toString();\n    } catch (error) {\n        console.error(\"Failed to generate device key:\", error);\n        return DEFAULT_KEY;\n    }\n};\n/**\r\n * Securely stores API key in localStorage with encryption\r\n */ const storeApiKey = (apiKey)=>{\n    if (!apiKey || !isBrowser) return;\n    try {\n        const userId = localStorage.getItem(\"userId\") || \"default-user\";\n        const deviceKey = generateDeviceKey();\n        const encryptionKey = `${userId}-${deviceKey}`;\n        const encryptedKey = encryptData(apiKey, encryptionKey);\n        localStorage.setItem(\"encrypted_api_key\", encryptedKey);\n    } catch (error) {\n        console.error(\"Failed to store API key:\", error);\n    }\n};\n/**\r\n * Retrieves and decrypts API key from localStorage\r\n */ const getApiKey = ()=>{\n    if (!isBrowser) {\n        return null;\n    }\n    try {\n        const encryptedKey = localStorage.getItem(\"encrypted_api_key\");\n        if (!encryptedKey) return null;\n        const userId = localStorage.getItem(\"userId\") || \"default-user\";\n        const deviceKey = generateDeviceKey();\n        const encryptionKey = `${userId}-${deviceKey}`;\n        return decryptData(encryptedKey, encryptionKey);\n    } catch (error) {\n        console.error(\"Failed to get API key:\", error);\n        return null;\n    }\n};\n/**\r\n * Removes API key from localStorage\r\n */ const clearApiKey = ()=>{\n    if (!isBrowser) return;\n    try {\n        localStorage.removeItem(\"encrypted_api_key\");\n    } catch (error) {\n        console.error(\"Failed to clear API key:\", error);\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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IjpbIndlYnBhY2s6Ly91cnUtY2hhdGJvdC8uL3NyYy9saWIvZW5jcnlwdGlvbi50cz80OTFjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBDcnlwdG9KUyBmcm9tICdjcnlwdG8tanMnO1xyXG5cclxuLy8gQ29uc3RhbnRzIGZvciBlbmNyeXB0aW9uXHJcbmNvbnN0IERFRkFVTFRfS0VZID0gJ2RlZmF1bHQtZW5jcnlwdGlvbi1rZXknO1xyXG5cclxuLy8gSGVscGVyIHRvIGNoZWNrIGlmIHdlJ3JlIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudFxyXG5jb25zdCBpc0Jyb3dzZXIgPSB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJztcclxuXHJcbi8qKlxyXG4gKiBFbmNyeXB0cyBzZW5zaXRpdmUgZGF0YSB3aXRoIGEgdXNlci1zcGVjaWZpYyBrZXlcclxuICovXHJcbmV4cG9ydCBjb25zdCBlbmNyeXB0RGF0YSA9IChkYXRhOiBzdHJpbmcsIHVzZXJLZXk6IHN0cmluZyk6IHN0cmluZyA9PiB7XHJcbiAgaWYgKCFkYXRhIHx8ICF1c2VyS2V5KSByZXR1cm4gJyc7XHJcbiAgdHJ5IHtcclxuICAgIHJldHVybiBDcnlwdG9KUy5BRVMuZW5jcnlwdChkYXRhLCB1c2VyS2V5KS50b1N0cmluZygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdFbmNyeXB0aW9uIGZhaWxlZDonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gJyc7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIERlY3J5cHRzIHNlbnNpdGl2ZSBkYXRhIHdpdGggYSB1c2VyLXNwZWNpZmljIGtleVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGRlY3J5cHREYXRhID0gKGVuY3J5cHRlZERhdGE6IHN0cmluZywgdXNlcktleTogc3RyaW5nKTogc3RyaW5nID0+IHtcclxuICBpZiAoIWVuY3J5cHRlZERhdGEgfHwgIXVzZXJLZXkpIHJldHVybiAnJztcclxuICB0cnkge1xyXG4gICAgY29uc3QgYnl0ZXMgPSBDcnlwdG9KUy5BRVMuZGVjcnlwdChlbmNyeXB0ZWREYXRhLCB1c2VyS2V5KTtcclxuICAgIHJldHVybiBieXRlcy50b1N0cmluZyhDcnlwdG9KUy5lbmMuVXRmOCk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0RlY3J5cHRpb24gZmFpbGVkOicsIGVycm9yKTtcclxuICAgIHJldHVybiAnJztcclxuICB9XHJcbn07XHJcblxyXG4vKipcclxuICogR2VuZXJhdGVzIGEgZGV2aWNlLXNwZWNpZmljIGtleSBmb3IgYWRkaXRpb25hbCBlbmNyeXB0aW9uIGxheWVyXHJcbiAqL1xyXG5leHBvcnQgY29uc3QgZ2VuZXJhdGVEZXZpY2VLZXkgPSAoKTogc3RyaW5nID0+IHtcclxuICBpZiAoIWlzQnJvd3Nlcikge1xyXG4gICAgcmV0dXJuIERFRkFVTFRfS0VZO1xyXG4gIH1cclxuICBcclxuICB0cnkge1xyXG4gICAgLy8gQ3JlYXRlIGEgdW5pcXVlIGRldmljZSBpZGVudGlmaWVyIGJhc2VkIG9uIGJyb3dzZXIgZmluZ2VycHJpbnRcclxuICAgIGNvbnN0IGJyb3dzZXJJbmZvID0gW1xyXG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50LFxyXG4gICAgICBuYXZpZ2F0b3IubGFuZ3VhZ2UsXHJcbiAgICAgIHNjcmVlbi5jb2xvckRlcHRoLFxyXG4gICAgICBzY3JlZW4ud2lkdGgsXHJcbiAgICAgIHNjcmVlbi5oZWlnaHRcclxuICAgIF0uam9pbignfCcpO1xyXG4gICAgXHJcbiAgICByZXR1cm4gQ3J5cHRvSlMuTUQ1KGJyb3dzZXJJbmZvKS50b1N0cmluZygpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgZGV2aWNlIGtleTonLCBlcnJvcik7XHJcbiAgICByZXR1cm4gREVGQVVMVF9LRVk7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFNlY3VyZWx5IHN0b3JlcyBBUEkga2V5IGluIGxvY2FsU3RvcmFnZSB3aXRoIGVuY3J5cHRpb25cclxuICovXHJcbmV4cG9ydCBjb25zdCBzdG9yZUFwaUtleSA9IChhcGlLZXk6IHN0cmluZyk6IHZvaWQgPT4ge1xyXG4gIGlmICghYXBpS2V5IHx8ICFpc0Jyb3dzZXIpIHJldHVybjtcclxuICBcclxuICB0cnkge1xyXG4gICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpIHx8ICdkZWZhdWx0LXVzZXInO1xyXG4gICAgY29uc3QgZGV2aWNlS2V5ID0gZ2VuZXJhdGVEZXZpY2VLZXkoKTtcclxuICAgIGNvbnN0IGVuY3J5cHRpb25LZXkgPSBgJHt1c2VySWR9LSR7ZGV2aWNlS2V5fWA7XHJcbiAgICBcclxuICAgIGNvbnN0IGVuY3J5cHRlZEtleSA9IGVuY3J5cHREYXRhKGFwaUtleSwgZW5jcnlwdGlvbktleSk7XHJcbiAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnZW5jcnlwdGVkX2FwaV9rZXknLCBlbmNyeXB0ZWRLZXkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gc3RvcmUgQVBJIGtleTonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJldHJpZXZlcyBhbmQgZGVjcnlwdHMgQVBJIGtleSBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGdldEFwaUtleSA9ICgpOiBzdHJpbmcgfCBudWxsID0+IHtcclxuICBpZiAoIWlzQnJvd3Nlcikge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIFxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCBlbmNyeXB0ZWRLZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZW5jcnlwdGVkX2FwaV9rZXknKTtcclxuICAgIGlmICghZW5jcnlwdGVkS2V5KSByZXR1cm4gbnVsbDtcclxuICAgIFxyXG4gICAgY29uc3QgdXNlcklkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXJJZCcpIHx8ICdkZWZhdWx0LXVzZXInO1xyXG4gICAgY29uc3QgZGV2aWNlS2V5ID0gZ2VuZXJhdGVEZXZpY2VLZXkoKTtcclxuICAgIGNvbnN0IGVuY3J5cHRpb25LZXkgPSBgJHt1c2VySWR9LSR7ZGV2aWNlS2V5fWA7XHJcbiAgICBcclxuICAgIHJldHVybiBkZWNyeXB0RGF0YShlbmNyeXB0ZWRLZXksIGVuY3J5cHRpb25LZXkpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gZ2V0IEFQSSBrZXk6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFJlbW92ZXMgQVBJIGtleSBmcm9tIGxvY2FsU3RvcmFnZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IGNsZWFyQXBpS2V5ID0gKCk6IHZvaWQgPT4ge1xyXG4gIGlmICghaXNCcm93c2VyKSByZXR1cm47XHJcbiAgdHJ5IHtcclxuICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCdlbmNyeXB0ZWRfYXBpX2tleScpO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdGYWlsZWQgdG8gY2xlYXIgQVBJIGtleTonLCBlcnJvcik7XHJcbiAgfVxyXG59O1xyXG4iXSwibmFtZXMiOlsiQ3J5cHRvSlMiLCJERUZBVUxUX0tFWSIsImlzQnJvd3NlciIsImVuY3J5cHREYXRhIiwiZGF0YSIsInVzZXJLZXkiLCJBRVMiLCJlbmNyeXB0IiwidG9TdHJpbmciLCJlcnJvciIsImNvbnNvbGUiLCJkZWNyeXB0RGF0YSIsImVuY3J5cHRlZERhdGEiLCJieXRlcyIsImRlY3J5cHQiLCJlbmMiLCJVdGY4IiwiZ2VuZXJhdGVEZXZpY2VLZXkiLCJicm93c2VySW5mbyIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsImxhbmd1YWdlIiwic2NyZWVuIiwiY29sb3JEZXB0aCIsIndpZHRoIiwiaGVpZ2h0Iiwiam9pbiIsIk1ENSIsInN0b3JlQXBpS2V5IiwiYXBpS2V5IiwidXNlcklkIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRldmljZUtleSIsImVuY3J5cHRpb25LZXkiLCJlbmNyeXB0ZWRLZXkiLCJzZXRJdGVtIiwiZ2V0QXBpS2V5IiwiY2xlYXJBcGlLZXkiLCJyZW1vdmVJdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/lib/encryption.ts\n");

/***/ }),

/***/ "./src/pages/_app.tsx":
/*!****************************!*\
  !*** ./src/pages/_app.tsx ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"react/jsx-dev-runtime\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../contexts/AuthContext */ \"./src/contexts/AuthContext.tsx\");\n/* harmony import */ var _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../contexts/ChatContext */ \"./src/contexts/ChatContext.tsx\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../styles/globals.css */ \"./src/styles/globals.css\");\n/* harmony import */ var _styles_globals_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_styles_globals_css__WEBPACK_IMPORTED_MODULE_5__);\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__]);\n([_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__, _contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\n\n\nfunction MyApp({ Component, pageProps }) {\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    const [isClient, setIsClient] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsClient(true);\n    }, []);\n    // Prevent hydration mismatch by not rendering until client-side\n    if (!isClient) {\n        return null;\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_AuthContext__WEBPACK_IMPORTED_MODULE_3__.AuthProvider, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_contexts_ChatContext__WEBPACK_IMPORTED_MODULE_4__.ChatProvider, {\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Component, {\n                ...pageProps\n            }, void 0, false, {\n                fileName: \"/app/src/pages/_app.tsx\",\n                lineNumber: 23,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/app/src/pages/_app.tsx\",\n            lineNumber: 22,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/app/src/pages/_app.tsx\",\n        lineNumber: 21,\n        columnNumber: 5\n    }, this);\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (MyApp);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvX2FwcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQW1EO0FBQ1g7QUFDZTtBQUNBO0FBQ3hCO0FBRS9CLFNBQVNNLE1BQU0sRUFBRUMsU0FBUyxFQUFFQyxTQUFTLEVBQUU7SUFDckMsTUFBTUMsU0FBU04sc0RBQVNBO0lBQ3hCLE1BQU0sQ0FBQ08sVUFBVUMsWUFBWSxHQUFHVCwrQ0FBUUEsQ0FBQztJQUV6Q0QsZ0RBQVNBLENBQUM7UUFDUlUsWUFBWTtJQUNkLEdBQUcsRUFBRTtJQUVMLGdFQUFnRTtJQUNoRSxJQUFJLENBQUNELFVBQVU7UUFDYixPQUFPO0lBQ1Q7SUFFQSxxQkFDRSw4REFBQ04sK0RBQVlBO2tCQUNYLDRFQUFDQywrREFBWUE7c0JBQ1gsNEVBQUNFO2dCQUFXLEdBQUdDLFNBQVM7Ozs7Ozs7Ozs7Ozs7Ozs7QUFJaEM7QUFFQSxpRUFBZUYsS0FBS0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL3VydS1jaGF0Ym90Ly4vc3JjL3BhZ2VzL19hcHAudHN4P2Y5ZDYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUgfSBmcm9tICdyZWFjdCc7XHJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ25leHQvcm91dGVyJztcclxuaW1wb3J0IHsgQXV0aFByb3ZpZGVyIH0gZnJvbSAnLi4vY29udGV4dHMvQXV0aENvbnRleHQnO1xyXG5pbXBvcnQgeyBDaGF0UHJvdmlkZXIgfSBmcm9tICcuLi9jb250ZXh0cy9DaGF0Q29udGV4dCc7XHJcbmltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbHMuY3NzJztcclxuXHJcbmZ1bmN0aW9uIE15QXBwKHsgQ29tcG9uZW50LCBwYWdlUHJvcHMgfSkge1xyXG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xyXG4gIGNvbnN0IFtpc0NsaWVudCwgc2V0SXNDbGllbnRdID0gdXNlU3RhdGUoZmFsc2UpO1xyXG5cclxuICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgc2V0SXNDbGllbnQodHJ1ZSk7XHJcbiAgfSwgW10pO1xyXG5cclxuICAvLyBQcmV2ZW50IGh5ZHJhdGlvbiBtaXNtYXRjaCBieSBub3QgcmVuZGVyaW5nIHVudGlsIGNsaWVudC1zaWRlXHJcbiAgaWYgKCFpc0NsaWVudCkge1xyXG4gICAgcmV0dXJuIG51bGw7XHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiAoXHJcbiAgICA8QXV0aFByb3ZpZGVyPlxyXG4gICAgICA8Q2hhdFByb3ZpZGVyPlxyXG4gICAgICAgIDxDb21wb25lbnQgey4uLnBhZ2VQcm9wc30gLz5cclxuICAgICAgPC9DaGF0UHJvdmlkZXI+XHJcbiAgICA8L0F1dGhQcm92aWRlcj5cclxuICApO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBNeUFwcDtcclxuIl0sIm5hbWVzIjpbIlJlYWN0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJBdXRoUHJvdmlkZXIiLCJDaGF0UHJvdmlkZXIiLCJNeUFwcCIsIkNvbXBvbmVudCIsInBhZ2VQcm9wcyIsInJvdXRlciIsImlzQ2xpZW50Iiwic2V0SXNDbGllbnQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/pages/_app.tsx\n");

/***/ }),

/***/ "./src/styles/globals.css":
/*!********************************!*\
  !*** ./src/styles/globals.css ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "crypto-js":
/*!****************************!*\
  !*** external "crypto-js" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto-js");

/***/ }),

/***/ "next/dist/compiled/next-server/pages.runtime.dev.js":
/*!**********************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages.runtime.dev.js" ***!
  \**********************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/pages.runtime.dev.js");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react/jsx-dev-runtime":
/*!****************************************!*\
  !*** external "react/jsx-dev-runtime" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-dev-runtime");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = import("axios");;

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@swc"], () => (__webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES&page=%2F_error&preferredRegion=&absolutePagePath=.%2Fnode_modules%2Fnext%2Fdist%2Fpages%2F_error.js&absoluteAppPath=private-next-pages%2F_app&absoluteDocumentPath=private-next-pages%2F_document&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();